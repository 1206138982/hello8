ARM GAS  /tmp/cc8HAVef.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 6
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"ov7670.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.global	ov7670_init_reg_tbl
  16              		.section	.rodata.ov7670_init_reg_tbl,"a"
  17              		.align	2
  20              	ov7670_init_reg_tbl:
  21 0000 3A04     		.ascii	":\004"
  22 0002 4010     		.ascii	"@\020"
  23 0004 1214     		.ascii	"\022\024"
  24 0006 3280     		.ascii	"2\200"
  25 0008 1716     		.ascii	"\027\026"
  26 000a 1804     		.ascii	"\030\004"
  27 000c 1902     		.ascii	"\031\002"
  28 000e 1A7A     		.ascii	"\032z"
  29 0010 030A     		.ascii	"\003\012"
  30 0012 0C0C     		.ascii	"\014\014"
  31 0014 1500     		.ascii	"\025\000"
  32 0016 3E00     		.ascii	">\000"
  33 0018 7000     		.ascii	"p\000"
  34 001a 7101     		.ascii	"q\001"
  35 001c 7211     		.ascii	"r\021"
  36 001e 7309     		.ascii	"s\011"
  37 0020 A202     		.ascii	"\242\002"
  38 0022 1100     		.ascii	"\021\000"
  39 0024 7A20     		.ascii	"z "
  40 0026 7B1C     		.ascii	"{\034"
  41 0028 7C28     		.ascii	"|("
  42 002a 7D3C     		.ascii	"}<"
  43 002c 7E55     		.ascii	"~U"
  44 002e 7F68     		.ascii	"\177h"
  45 0030 8076     		.ascii	"\200v"
  46 0032 8180     		.ascii	"\201\200"
  47 0034 8288     		.ascii	"\202\210"
  48 0036 838F     		.ascii	"\203\217"
  49 0038 8496     		.ascii	"\204\226"
  50 003a 85A3     		.ascii	"\205\243"
  51 003c 86AF     		.ascii	"\206\257"
  52 003e 87C4     		.ascii	"\207\304"
  53 0040 88D7     		.ascii	"\210\327"
  54 0042 89E8     		.ascii	"\211\350"
  55 0044 13E0     		.ascii	"\023\340"
  56 0046 0000     		.ascii	"\000\000"
  57 0048 1000     		.ascii	"\020\000"
  58 004a 0D00     		.ascii	"\015\000"
  59 004c 1420     		.ascii	"\024 "
ARM GAS  /tmp/cc8HAVef.s 			page 2


  60 004e A505     		.ascii	"\245\005"
  61 0050 AB07     		.ascii	"\253\007"
  62 0052 2475     		.ascii	"$u"
  63 0054 2563     		.ascii	"%c"
  64 0056 26A5     		.ascii	"&\245"
  65 0058 9F78     		.ascii	"\237x"
  66 005a A068     		.ascii	"\240h"
  67 005c A103     		.ascii	"\241\003"
  68 005e A6DF     		.ascii	"\246\337"
  69 0060 A7DF     		.ascii	"\247\337"
  70 0062 A8F0     		.ascii	"\250\360"
  71 0064 A990     		.ascii	"\251\220"
  72 0066 AA94     		.ascii	"\252\224"
  73 0068 13E5     		.ascii	"\023\345"
  74 006a 0E61     		.ascii	"\016a"
  75 006c 0F4B     		.ascii	"\017K"
  76 006e 1602     		.ascii	"\026\002"
  77 0070 1E27     		.ascii	"\036'"
  78 0072 2102     		.ascii	"!\002"
  79 0074 2291     		.ascii	"\"\221"
  80 0076 2907     		.ascii	")\007"
  81 0078 330B     		.ascii	"3\013"
  82 007a 350B     		.ascii	"5\013"
  83 007c 371D     		.ascii	"7\035"
  84 007e 3871     		.ascii	"8q"
  85 0080 392A     		.ascii	"9*"
  86 0082 3C78     		.ascii	"<x"
  87 0084 4D40     		.ascii	"M@"
  88 0086 4E20     		.ascii	"N "
  89 0088 695D     		.ascii	"i]"
  90 008a 6B40     		.ascii	"k@"
  91 008c 7419     		.ascii	"t\031"
  92 008e 8D4F     		.ascii	"\215O"
  93 0090 8E00     		.ascii	"\216\000"
  94 0092 8F00     		.ascii	"\217\000"
  95 0094 9000     		.ascii	"\220\000"
  96 0096 9100     		.ascii	"\221\000"
  97 0098 9200     		.ascii	"\222\000"
  98 009a 9600     		.ascii	"\226\000"
  99 009c 9A80     		.ascii	"\232\200"
 100 009e B084     		.ascii	"\260\204"
 101 00a0 B10C     		.ascii	"\261\014"
 102 00a2 B20E     		.ascii	"\262\016"
 103 00a4 B382     		.ascii	"\263\202"
 104 00a6 B80A     		.ascii	"\270\012"
 105 00a8 4314     		.ascii	"C\024"
 106 00aa 44F0     		.ascii	"D\360"
 107 00ac 4534     		.ascii	"E4"
 108 00ae 4658     		.ascii	"FX"
 109 00b0 4728     		.ascii	"G("
 110 00b2 483A     		.ascii	"H:"
 111 00b4 5988     		.ascii	"Y\210"
 112 00b6 5A88     		.ascii	"Z\210"
 113 00b8 5B44     		.ascii	"[D"
 114 00ba 5C67     		.ascii	"\\g"
 115 00bc 5D49     		.ascii	"]I"
 116 00be 5E0E     		.ascii	"^\016"
ARM GAS  /tmp/cc8HAVef.s 			page 3


 117 00c0 6404     		.ascii	"d\004"
 118 00c2 6520     		.ascii	"e "
 119 00c4 6605     		.ascii	"f\005"
 120 00c6 9404     		.ascii	"\224\004"
 121 00c8 9508     		.ascii	"\225\010"
 122 00ca 6C0A     		.ascii	"l\012"
 123 00cc 6D55     		.ascii	"mU"
 124 00ce 4F80     		.ascii	"O\200"
 125 00d0 5080     		.ascii	"P\200"
 126 00d2 5100     		.ascii	"Q\000"
 127 00d4 5222     		.ascii	"R\""
 128 00d6 535E     		.ascii	"S^"
 129 00d8 5480     		.ascii	"T\200"
 130 00da 0903     		.ascii	"\011\003"
 131 00dc 6E11     		.ascii	"n\021"
 132 00de 6F9F     		.ascii	"o\237"
 133 00e0 5500     		.ascii	"U\000"
 134 00e2 5640     		.ascii	"V@"
 135 00e4 5780     		.ascii	"W\200"
 136 00e6 00000000 		.space	112
 136      00000000 
 136      00000000 
 136      00000000 
 136      00000000 
 137              		.global	ov7670_init_reg_tbl_csdn
 138              		.section	.rodata.ov7670_init_reg_tbl_csdn,"a"
 139              		.align	2
 142              	ov7670_init_reg_tbl_csdn:
 143 0000 1210     		.ascii	"\022\020"
 144 0002 3A14     		.ascii	":\024"
 145 0004 3D80     		.ascii	"=\200"
 146 0006 6711     		.ascii	"g\021"
 147 0008 68FF     		.ascii	"h\377"
 148 000a 40C0     		.ascii	"@\300"
 149 000c 3280     		.ascii	"2\200"
 150 000e 1716     		.ascii	"\027\026"
 151 0010 1804     		.ascii	"\030\004"
 152 0012 1902     		.ascii	"\031\002"
 153 0014 1A7B     		.ascii	"\032{"
 154 0016 0306     		.ascii	"\003\006"
 155 0018 0C00     		.ascii	"\014\000"
 156 001a 1500     		.ascii	"\025\000"
 157 001c 3E00     		.ascii	">\000"
 158 001e 703A     		.ascii	"p:"
 159 0020 7135     		.ascii	"q5"
 160 0022 7211     		.ascii	"r\021"
 161 0024 7300     		.ascii	"s\000"
 162 0026 A202     		.ascii	"\242\002"
 163 0028 1181     		.ascii	"\021\201"
 164 002a 7A20     		.ascii	"z "
 165 002c 7B1C     		.ascii	"{\034"
 166 002e 7C28     		.ascii	"|("
 167 0030 7D3C     		.ascii	"}<"
 168 0032 7E55     		.ascii	"~U"
 169 0034 7F68     		.ascii	"\177h"
 170 0036 8076     		.ascii	"\200v"
 171 0038 8180     		.ascii	"\201\200"
ARM GAS  /tmp/cc8HAVef.s 			page 4


 172 003a 8288     		.ascii	"\202\210"
 173 003c 838F     		.ascii	"\203\217"
 174 003e 8496     		.ascii	"\204\226"
 175 0040 85A3     		.ascii	"\205\243"
 176 0042 86AF     		.ascii	"\206\257"
 177 0044 87C4     		.ascii	"\207\304"
 178 0046 88D7     		.ascii	"\210\327"
 179 0048 89E8     		.ascii	"\211\350"
 180 004a 13E0     		.ascii	"\023\340"
 181 004c 0000     		.ascii	"\000\000"
 182 004e 1000     		.ascii	"\020\000"
 183 0050 0D00     		.ascii	"\015\000"
 184 0052 1428     		.ascii	"\024("
 185 0054 A505     		.ascii	"\245\005"
 186 0056 AB07     		.ascii	"\253\007"
 187 0058 2475     		.ascii	"$u"
 188 005a 2563     		.ascii	"%c"
 189 005c 26A5     		.ascii	"&\245"
 190 005e 9F78     		.ascii	"\237x"
 191 0060 A068     		.ascii	"\240h"
 192 0062 A103     		.ascii	"\241\003"
 193 0064 A6DF     		.ascii	"\246\337"
 194 0066 A7DF     		.ascii	"\247\337"
 195 0068 A8F0     		.ascii	"\250\360"
 196 006a A990     		.ascii	"\251\220"
 197 006c AA94     		.ascii	"\252\224"
 198 006e 13E5     		.ascii	"\023\345"
 199 0070 0E61     		.ascii	"\016a"
 200 0072 0F4B     		.ascii	"\017K"
 201 0074 1602     		.ascii	"\026\002"
 202 0076 1E27     		.ascii	"\036'"
 203 0078 2102     		.ascii	"!\002"
 204 007a 2291     		.ascii	"\"\221"
 205 007c 2907     		.ascii	")\007"
 206 007e 330B     		.ascii	"3\013"
 207 0080 350B     		.ascii	"5\013"
 208 0082 371D     		.ascii	"7\035"
 209 0084 3871     		.ascii	"8q"
 210 0086 392A     		.ascii	"9*"
 211 0088 3C78     		.ascii	"<x"
 212 008a 4D40     		.ascii	"M@"
 213 008c 4E20     		.ascii	"N "
 214 008e 6900     		.ascii	"i\000"
 215 0090 6B40     		.ascii	"k@"
 216 0092 7419     		.ascii	"t\031"
 217 0094 8D4F     		.ascii	"\215O"
 218 0096 8E00     		.ascii	"\216\000"
 219 0098 8F00     		.ascii	"\217\000"
 220 009a 9000     		.ascii	"\220\000"
 221 009c 9100     		.ascii	"\221\000"
 222 009e 9200     		.ascii	"\222\000"
 223 00a0 9600     		.ascii	"\226\000"
 224 00a2 9A80     		.ascii	"\232\200"
 225 00a4 B084     		.ascii	"\260\204"
 226 00a6 B10C     		.ascii	"\261\014"
 227 00a8 B20E     		.ascii	"\262\016"
 228 00aa B382     		.ascii	"\263\202"
ARM GAS  /tmp/cc8HAVef.s 			page 5


 229 00ac B80A     		.ascii	"\270\012"
 230 00ae 4314     		.ascii	"C\024"
 231 00b0 44F0     		.ascii	"D\360"
 232 00b2 4534     		.ascii	"E4"
 233 00b4 4658     		.ascii	"FX"
 234 00b6 4728     		.ascii	"G("
 235 00b8 483A     		.ascii	"H:"
 236 00ba 5988     		.ascii	"Y\210"
 237 00bc 5A88     		.ascii	"Z\210"
 238 00be 5B44     		.ascii	"[D"
 239 00c0 5C67     		.ascii	"\\g"
 240 00c2 5D49     		.ascii	"]I"
 241 00c4 5E0E     		.ascii	"^\016"
 242 00c6 6404     		.ascii	"d\004"
 243 00c8 6520     		.ascii	"e "
 244 00ca 6605     		.ascii	"f\005"
 245 00cc 9404     		.ascii	"\224\004"
 246 00ce 9508     		.ascii	"\225\010"
 247 00d0 6C0A     		.ascii	"l\012"
 248 00d2 6D55     		.ascii	"mU"
 249 00d4 4F80     		.ascii	"O\200"
 250 00d6 5080     		.ascii	"P\200"
 251 00d8 5100     		.ascii	"Q\000"
 252 00da 5222     		.ascii	"R\""
 253 00dc 535E     		.ascii	"S^"
 254 00de 5480     		.ascii	"T\200"
 255 00e0 0903     		.ascii	"\011\003"
 256 00e2 6E11     		.ascii	"n\021"
 257 00e4 6F9F     		.ascii	"o\237"
 258 00e6 5500     		.ascii	"U\000"
 259 00e8 5640     		.ascii	"V@"
 260 00ea 5740     		.ascii	"W@"
 261 00ec 6A40     		.ascii	"j@"
 262 00ee 0140     		.ascii	"\001@"
 263 00f0 0240     		.ascii	"\002@"
 264 00f2 13E7     		.ascii	"\023\347"
 265 00f4 1500     		.ascii	"\025\000"
 266 00f6 589E     		.ascii	"X\236"
 267 00f8 4108     		.ascii	"A\010"
 268 00fa 3F00     		.ascii	"?\000"
 269 00fc 7505     		.ascii	"u\005"
 270 00fe 76E1     		.ascii	"v\341"
 271 0100 4C00     		.ascii	"L\000"
 272 0102 7701     		.ascii	"w\001"
 273 0104 3DC2     		.ascii	"=\302"
 274 0106 4B09     		.ascii	"K\011"
 275 0108 C960     		.ascii	"\311`"
 276 010a 4138     		.ascii	"A8"
 277 010c 3411     		.ascii	"4\021"
 278 010e 3B02     		.ascii	";\002"
 279 0110 A489     		.ascii	"\244\211"
 280 0112 9600     		.ascii	"\226\000"
 281 0114 9730     		.ascii	"\2270"
 282 0116 9820     		.ascii	"\230 "
 283 0118 9930     		.ascii	"\2310"
 284 011a 9A84     		.ascii	"\232\204"
 285 011c 9B29     		.ascii	"\233)"
ARM GAS  /tmp/cc8HAVef.s 			page 6


 286 011e 9C03     		.ascii	"\234\003"
 287 0120 9D4C     		.ascii	"\235L"
 288 0122 9E3F     		.ascii	"\236?"
 289 0124 7804     		.ascii	"x\004"
 290 0126 7901     		.ascii	"y\001"
 291 0128 C8F0     		.ascii	"\310\360"
 292 012a 790F     		.ascii	"y\017"
 293 012c C800     		.ascii	"\310\000"
 294 012e 7910     		.ascii	"y\020"
 295 0130 C87E     		.ascii	"\310~"
 296 0132 790A     		.ascii	"y\012"
 297 0134 C880     		.ascii	"\310\200"
 298 0136 790B     		.ascii	"y\013"
 299 0138 C801     		.ascii	"\310\001"
 300 013a 790C     		.ascii	"y\014"
 301 013c C80F     		.ascii	"\310\017"
 302 013e 790D     		.ascii	"y\015"
 303 0140 C820     		.ascii	"\310 "
 304 0142 7909     		.ascii	"y\011"
 305 0144 C880     		.ascii	"\310\200"
 306 0146 7902     		.ascii	"y\002"
 307 0148 C8C0     		.ascii	"\310\300"
 308 014a 7903     		.ascii	"y\003"
 309 014c C840     		.ascii	"\310@"
 310 014e 7905     		.ascii	"y\005"
 311 0150 C830     		.ascii	"\3100"
 312 0152 7926     		.ascii	"y&"
 313 0154 0900     		.ascii	"\011\000"
 314              		.section	.text.OV7670_Init,"ax",%progbits
 315              		.align	1
 316              		.global	OV7670_Init
 317              		.arch armv7-m
 318              		.syntax unified
 319              		.thumb
 320              		.thumb_func
 321              		.fpu softvfp
 323              	OV7670_Init:
 324              	.LFB63:
 325              		.file 1 "hardware/src/ov7670.c"
   1:hardware/src/ov7670.c **** #include "sys.h"
   2:hardware/src/ov7670.c **** #include "ov7670.h"
   3:hardware/src/ov7670.c **** #include "ov7670config.h"	  
   4:hardware/src/ov7670.c **** #include "delay.h"
   5:hardware/src/ov7670.c **** #include "sccb.h"	
   6:hardware/src/ov7670.c **** 
   7:hardware/src/ov7670.c **** u8 OV7670_Init(void)
   8:hardware/src/ov7670.c **** {
 326              		.loc 1 8 1
 327              		.cfi_startproc
 328              		@ args = 0, pretend = 0, frame = 8
 329              		@ frame_needed = 1, uses_anonymous_args = 0
 330 0000 80B5     		push	{r7, lr}
 331              	.LCFI0:
 332              		.cfi_def_cfa_offset 8
 333              		.cfi_offset 7, -8
 334              		.cfi_offset 14, -4
 335 0002 82B0     		sub	sp, sp, #8
ARM GAS  /tmp/cc8HAVef.s 			page 7


 336              	.LCFI1:
 337              		.cfi_def_cfa_offset 16
 338 0004 00AF     		add	r7, sp, #0
 339              	.LCFI2:
 340              		.cfi_def_cfa_register 7
   9:hardware/src/ov7670.c **** 	u8 temp;
  10:hardware/src/ov7670.c **** 	u16 i=0;
 341              		.loc 1 10 6
 342 0006 0023     		movs	r3, #0
 343 0008 FB80     		strh	r3, [r7, #6]	@ movhi
  11:hardware/src/ov7670.c **** 	 
  12:hardware/src/ov7670.c ****  	GPIO_InitTypeDef  GPIO_InitStructure;
  13:hardware/src/ov7670.c **** 	RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOB|RCC_APB2Periph_GPIOE|RCC_APB2Periph_GPIOC|RCC_APB2Peri
 344              		.loc 1 13 2
 345 000a 0121     		movs	r1, #1
 346 000c D820     		movs	r0, #216
 347 000e FFF7FEFF 		bl	RCC_APB2PeriphClockCmd
  14:hardware/src/ov7670.c **** 
  15:hardware/src/ov7670.c ****  /* PC12 for OV7670_VSYNC pin */
  16:hardware/src/ov7670.c **** 	GPIO_InitStructure.GPIO_Pin  = GPIO_Pin_12; 	//PA8 输入 上拉
 348              		.loc 1 16 31
 349 0012 4FF48053 		mov	r3, #4096
 350 0016 3B80     		strh	r3, [r7]	@ movhi
  17:hardware/src/ov7670.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IPU;
 351              		.loc 1 17 31
 352 0018 4823     		movs	r3, #72
 353 001a FB70     		strb	r3, [r7, #3]
  18:hardware/src/ov7670.c **** 	GPIO_InitStructure.GPIO_Speed = GPIO_Speed_50MHz;
 354              		.loc 1 18 32
 355 001c 0323     		movs	r3, #3
 356 001e BB70     		strb	r3, [r7, #2]
  19:hardware/src/ov7670.c ****  	GPIO_Init(GPIOC, &GPIO_InitStructure);
 357              		.loc 1 19 3
 358 0020 3B46     		mov	r3, r7
 359 0022 1946     		mov	r1, r3
 360 0024 3648     		ldr	r0, .L9
 361 0026 FFF7FEFF 		bl	GPIO_Init
  20:hardware/src/ov7670.c **** 	GPIO_SetBits(GPIOC,GPIO_Pin_12);
 362              		.loc 1 20 2
 363 002a 4FF48051 		mov	r1, #4096
 364 002e 3448     		ldr	r0, .L9
 365 0030 FFF7FEFF 		bl	GPIO_SetBits
  21:hardware/src/ov7670.c **** 
  22:hardware/src/ov7670.c **** /*	PE6 for PWDN pin always LOW	
  23:hardware/src/ov7670.c **** 	PE4 for FIFO_RCK pin	
  24:hardware/src/ov7670.c **** 	PE2 for OV7670_CS(OE) pin
  25:hardware/src/ov7670.c **** 	PE3 for OV7670_WREN pin
  26:hardware/src/ov7670.c **** 	PE0 for RRST
  27:hardware/src/ov7670.c **** 	PE1 for WRST*/
  28:hardware/src/ov7670.c **** 
  29:hardware/src/ov7670.c ****  	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_6|GPIO_Pin_4|GPIO_Pin_3|GPIO_Pin_2|GPIO_Pin_1|GPIO_Pin_0;
 366              		.loc 1 29 31
 367 0034 5F23     		movs	r3, #95
 368 0036 3B80     		strh	r3, [r7]	@ movhi
  30:hardware/src/ov7670.c ****  	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP; 		 //推挽输出
 369              		.loc 1 30 32
 370 0038 1023     		movs	r3, #16
ARM GAS  /tmp/cc8HAVef.s 			page 8


 371 003a FB70     		strb	r3, [r7, #3]
  31:hardware/src/ov7670.c ****  	GPIO_Init(GPIOE, &GPIO_InitStructure);
 372              		.loc 1 31 3
 373 003c 3B46     		mov	r3, r7
 374 003e 1946     		mov	r1, r3
 375 0040 3048     		ldr	r0, .L9+4
 376 0042 FFF7FEFF 		bl	GPIO_Init
  32:hardware/src/ov7670.c ****  	GPIO_ResetBits(GPIOE,GPIO_Pin_6);
 377              		.loc 1 32 3
 378 0046 4021     		movs	r1, #64
 379 0048 2E48     		ldr	r0, .L9+4
 380 004a FFF7FEFF 		bl	GPIO_ResetBits
  33:hardware/src/ov7670.c **** 
  34:hardware/src/ov7670.c **** /*	PC13 for RESET pin always HEIGH*/
  35:hardware/src/ov7670.c ****  	GPIO_InitStructure.GPIO_Pin = GPIO_Pin_13;				 // 端口配置
 381              		.loc 1 35 31
 382 004e 4FF40053 		mov	r3, #8192
 383 0052 3B80     		strh	r3, [r7]	@ movhi
  36:hardware/src/ov7670.c ****  	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_Out_PP; 		 //推挽输出
 384              		.loc 1 36 32
 385 0054 1023     		movs	r3, #16
 386 0056 FB70     		strb	r3, [r7, #3]
  37:hardware/src/ov7670.c ****  	GPIO_Init(GPIOC, &GPIO_InitStructure);
 387              		.loc 1 37 3
 388 0058 3B46     		mov	r3, r7
 389 005a 1946     		mov	r1, r3
 390 005c 2848     		ldr	r0, .L9
 391 005e FFF7FEFF 		bl	GPIO_Init
  38:hardware/src/ov7670.c ****  	GPIO_SetBits(GPIOC,GPIO_Pin_13);
 392              		.loc 1 38 3
 393 0062 4FF40051 		mov	r1, #8192
 394 0066 2648     		ldr	r0, .L9
 395 0068 FFF7FEFF 		bl	GPIO_SetBits
  39:hardware/src/ov7670.c **** 
  40:hardware/src/ov7670.c **** /*	PF0-PF7 for D0-D7 pins */
  41:hardware/src/ov7670.c **** 	GPIO_InitStructure.GPIO_Pin  = 0xff; //PF0~7 输入 上拉
 396              		.loc 1 41 31
 397 006c FF23     		movs	r3, #255
 398 006e 3B80     		strh	r3, [r7]	@ movhi
  42:hardware/src/ov7670.c **** 	GPIO_InitStructure.GPIO_Mode = GPIO_Mode_IPU;
 399              		.loc 1 42 31
 400 0070 4823     		movs	r3, #72
 401 0072 FB70     		strb	r3, [r7, #3]
  43:hardware/src/ov7670.c ****  	GPIO_Init(GPIOF, &GPIO_InitStructure);
 402              		.loc 1 43 3
 403 0074 3B46     		mov	r3, r7
 404 0076 1946     		mov	r1, r3
 405 0078 2348     		ldr	r0, .L9+8
 406 007a FFF7FEFF 		bl	GPIO_Init
  44:hardware/src/ov7670.c **** 
  45:hardware/src/ov7670.c ****  	SCCB_Init();        		//初始化SCCB 的IO口	   	  
 407              		.loc 1 45 3
 408 007e FFF7FEFF 		bl	SCCB_Init
  46:hardware/src/ov7670.c ****  	if(SCCB_WR_Reg(0x12,0x80))return 1;	//复位SCCB	  
 409              		.loc 1 46 6
 410 0082 8021     		movs	r1, #128
 411 0084 1220     		movs	r0, #18
ARM GAS  /tmp/cc8HAVef.s 			page 9


 412 0086 FFF7FEFF 		bl	SCCB_WR_Reg
 413 008a 0346     		mov	r3, r0
 414              		.loc 1 46 5
 415 008c 002B     		cmp	r3, #0
 416 008e 01D0     		beq	.L2
 417              		.loc 1 46 36 discriminator 1
 418 0090 0123     		movs	r3, #1
 419 0092 30E0     		b	.L8
 420              	.L2:
  47:hardware/src/ov7670.c **** 	delay_ms(50); 
 421              		.loc 1 47 2
 422 0094 3220     		movs	r0, #50
 423 0096 FFF7FEFF 		bl	delay_ms
  48:hardware/src/ov7670.c **** 	//读取产品型号
  49:hardware/src/ov7670.c ****  	temp=SCCB_RD_Reg(0x0b);   
 424              		.loc 1 49 8
 425 009a 0B20     		movs	r0, #11
 426 009c FFF7FEFF 		bl	SCCB_RD_Reg
 427 00a0 0346     		mov	r3, r0
 428 00a2 7B71     		strb	r3, [r7, #5]
  50:hardware/src/ov7670.c **** 	if(temp!=0x73)return 2;  
 429              		.loc 1 50 4
 430 00a4 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 431 00a6 732B     		cmp	r3, #115
 432 00a8 01D0     		beq	.L4
 433              		.loc 1 50 23 discriminator 1
 434 00aa 0223     		movs	r3, #2
 435 00ac 23E0     		b	.L8
 436              	.L4:
  51:hardware/src/ov7670.c ****  	temp=SCCB_RD_Reg(0x0a);   
 437              		.loc 1 51 8
 438 00ae 0A20     		movs	r0, #10
 439 00b0 FFF7FEFF 		bl	SCCB_RD_Reg
 440 00b4 0346     		mov	r3, r0
 441 00b6 7B71     		strb	r3, [r7, #5]
  52:hardware/src/ov7670.c **** 	if(temp!=0x76)return 2;
 442              		.loc 1 52 4
 443 00b8 7B79     		ldrb	r3, [r7, #5]	@ zero_extendqisi2
 444 00ba 762B     		cmp	r3, #118
 445 00bc 01D0     		beq	.L5
 446              		.loc 1 52 23 discriminator 1
 447 00be 0223     		movs	r3, #2
 448 00c0 19E0     		b	.L8
 449              	.L5:
  53:hardware/src/ov7670.c **** 	//初始化序列	  
  54:hardware/src/ov7670.c **** 	// for(i=0;i<sizeof(ov7670_init_reg_tbl)/sizeof(ov7670_init_reg_tbl[0])/2;i++)
  55:hardware/src/ov7670.c **** 	// {
  56:hardware/src/ov7670.c **** 	//    	SCCB_WR_Reg(ov7670_init_reg_tbl[i][0],ov7670_init_reg_tbl[i][1]);
  57:hardware/src/ov7670.c **** 	// 	delay_ms(2);
  58:hardware/src/ov7670.c ****  	// }
  59:hardware/src/ov7670.c **** 	for(i=0;i<sizeof(ov7670_init_reg_tbl_csdn)/sizeof(ov7670_init_reg_tbl_csdn[0])/2;i++)
 450              		.loc 1 59 7
 451 00c2 0023     		movs	r3, #0
 452 00c4 FB80     		strh	r3, [r7, #6]	@ movhi
 453              		.loc 1 59 2
 454 00c6 12E0     		b	.L6
 455              	.L7:
ARM GAS  /tmp/cc8HAVef.s 			page 10


  60:hardware/src/ov7670.c **** 	{
  61:hardware/src/ov7670.c **** 	   	SCCB_WR_Reg(ov7670_init_reg_tbl_csdn[i][0],ov7670_init_reg_tbl_csdn[i][1]);
 456              		.loc 1 61 6 discriminator 3
 457 00c8 FB88     		ldrh	r3, [r7, #6]
 458 00ca 104A     		ldr	r2, .L9+12
 459 00cc 12F81320 		ldrb	r2, [r2, r3, lsl #1]	@ zero_extendqisi2
 460 00d0 FB88     		ldrh	r3, [r7, #6]
 461 00d2 0E49     		ldr	r1, .L9+12
 462 00d4 5B00     		lsls	r3, r3, #1
 463 00d6 0B44     		add	r3, r3, r1
 464 00d8 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 465 00da 1946     		mov	r1, r3
 466 00dc 1046     		mov	r0, r2
 467 00de FFF7FEFF 		bl	SCCB_WR_Reg
  62:hardware/src/ov7670.c **** 		delay_ms(2);
 468              		.loc 1 62 3 discriminator 3
 469 00e2 0220     		movs	r0, #2
 470 00e4 FFF7FEFF 		bl	delay_ms
  59:hardware/src/ov7670.c **** 	{
 471              		.loc 1 59 84 discriminator 3
 472 00e8 FB88     		ldrh	r3, [r7, #6]
 473 00ea 0133     		adds	r3, r3, #1
 474 00ec FB80     		strh	r3, [r7, #6]	@ movhi
 475              	.L6:
  59:hardware/src/ov7670.c **** 	{
 476              		.loc 1 59 2 discriminator 1
 477 00ee FB88     		ldrh	r3, [r7, #6]
 478 00f0 542B     		cmp	r3, #84
 479 00f2 E9D9     		bls	.L7
  63:hardware/src/ov7670.c ****  	}
  64:hardware/src/ov7670.c ****    	return 0x00; 	//ok
 480              		.loc 1 64 12
 481 00f4 0023     		movs	r3, #0
 482              	.L8:
  65:hardware/src/ov7670.c **** } 
 483              		.loc 1 65 1 discriminator 1
 484 00f6 1846     		mov	r0, r3
 485 00f8 0837     		adds	r7, r7, #8
 486              	.LCFI3:
 487              		.cfi_def_cfa_offset 8
 488 00fa BD46     		mov	sp, r7
 489              	.LCFI4:
 490              		.cfi_def_cfa_register 13
 491              		@ sp needed
 492 00fc 80BD     		pop	{r7, pc}
 493              	.L10:
 494 00fe 00BF     		.align	2
 495              	.L9:
 496 0100 00100140 		.word	1073811456
 497 0104 00180140 		.word	1073813504
 498 0108 001C0140 		.word	1073814528
 499 010c 00000000 		.word	ov7670_init_reg_tbl_csdn
 500              		.cfi_endproc
 501              	.LFE63:
 503              		.section	.text.OV7670_Light_Mode,"ax",%progbits
 504              		.align	1
 505              		.global	OV7670_Light_Mode
ARM GAS  /tmp/cc8HAVef.s 			page 11


 506              		.syntax unified
 507              		.thumb
 508              		.thumb_func
 509              		.fpu softvfp
 511              	OV7670_Light_Mode:
 512              	.LFB64:
  66:hardware/src/ov7670.c **** ////////////////////////////////////////////////////////////////////////////
  67:hardware/src/ov7670.c **** //OV7670功能设置
  68:hardware/src/ov7670.c **** //白平衡设置
  69:hardware/src/ov7670.c **** //0:自动
  70:hardware/src/ov7670.c **** //1:太阳sunny
  71:hardware/src/ov7670.c **** //2,阴天cloudy
  72:hardware/src/ov7670.c **** //3,办公室office
  73:hardware/src/ov7670.c **** //4,家里home
  74:hardware/src/ov7670.c **** void OV7670_Light_Mode(u8 mode)
  75:hardware/src/ov7670.c **** {
 513              		.loc 1 75 1
 514              		.cfi_startproc
 515              		@ args = 0, pretend = 0, frame = 16
 516              		@ frame_needed = 1, uses_anonymous_args = 0
 517 0000 80B5     		push	{r7, lr}
 518              	.LCFI5:
 519              		.cfi_def_cfa_offset 8
 520              		.cfi_offset 7, -8
 521              		.cfi_offset 14, -4
 522 0002 84B0     		sub	sp, sp, #16
 523              	.LCFI6:
 524              		.cfi_def_cfa_offset 24
 525 0004 00AF     		add	r7, sp, #0
 526              	.LCFI7:
 527              		.cfi_def_cfa_register 7
 528 0006 0346     		mov	r3, r0
 529 0008 FB71     		strb	r3, [r7, #7]
  76:hardware/src/ov7670.c **** 	u8 reg13val=0XE7;//默认就是设置为自动白平衡
 530              		.loc 1 76 5
 531 000a E723     		movs	r3, #231
 532 000c FB73     		strb	r3, [r7, #15]
  77:hardware/src/ov7670.c **** 	u8 reg01val=0;
 533              		.loc 1 77 5
 534 000e 0023     		movs	r3, #0
 535 0010 BB73     		strb	r3, [r7, #14]
  78:hardware/src/ov7670.c **** 	u8 reg02val=0;
 536              		.loc 1 78 5
 537 0012 0023     		movs	r3, #0
 538 0014 7B73     		strb	r3, [r7, #13]
  79:hardware/src/ov7670.c **** 	switch(mode)
 539              		.loc 1 79 2
 540 0016 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 541 0018 013B     		subs	r3, r3, #1
 542 001a 032B     		cmp	r3, #3
 543 001c 26D8     		bhi	.L12
 544 001e 01A2     		adr	r2, .L14
 545 0020 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 546              		.p2align 2
 547              	.L14:
 548 0024 35000000 		.word	.L17+1
 549 0028 43000000 		.word	.L16+1
ARM GAS  /tmp/cc8HAVef.s 			page 12


 550 002c 51000000 		.word	.L15+1
 551 0030 5F000000 		.word	.L13+1
 552              		.p2align 1
 553              	.L17:
  80:hardware/src/ov7670.c **** 	{
  81:hardware/src/ov7670.c **** 		case 1://sunny
  82:hardware/src/ov7670.c **** 			reg13val=0XE5;
 554              		.loc 1 82 12
 555 0034 E523     		movs	r3, #229
 556 0036 FB73     		strb	r3, [r7, #15]
  83:hardware/src/ov7670.c **** 			reg01val=0X5A;
 557              		.loc 1 83 12
 558 0038 5A23     		movs	r3, #90
 559 003a BB73     		strb	r3, [r7, #14]
  84:hardware/src/ov7670.c **** 			reg02val=0X5C;
 560              		.loc 1 84 12
 561 003c 5C23     		movs	r3, #92
 562 003e 7B73     		strb	r3, [r7, #13]
  85:hardware/src/ov7670.c **** 			break;	
 563              		.loc 1 85 4
 564 0040 14E0     		b	.L12
 565              	.L16:
  86:hardware/src/ov7670.c **** 		case 2://cloudy
  87:hardware/src/ov7670.c **** 			reg13val=0XE5;
 566              		.loc 1 87 12
 567 0042 E523     		movs	r3, #229
 568 0044 FB73     		strb	r3, [r7, #15]
  88:hardware/src/ov7670.c **** 			reg01val=0X58;
 569              		.loc 1 88 12
 570 0046 5823     		movs	r3, #88
 571 0048 BB73     		strb	r3, [r7, #14]
  89:hardware/src/ov7670.c **** 			reg02val=0X60;
 572              		.loc 1 89 12
 573 004a 6023     		movs	r3, #96
 574 004c 7B73     		strb	r3, [r7, #13]
  90:hardware/src/ov7670.c **** 			break;	
 575              		.loc 1 90 4
 576 004e 0DE0     		b	.L12
 577              	.L15:
  91:hardware/src/ov7670.c **** 		case 3://office
  92:hardware/src/ov7670.c **** 			reg13val=0XE5;
 578              		.loc 1 92 12
 579 0050 E523     		movs	r3, #229
 580 0052 FB73     		strb	r3, [r7, #15]
  93:hardware/src/ov7670.c **** 			reg01val=0X84;
 581              		.loc 1 93 12
 582 0054 8423     		movs	r3, #132
 583 0056 BB73     		strb	r3, [r7, #14]
  94:hardware/src/ov7670.c **** 			reg02val=0X4c;
 584              		.loc 1 94 12
 585 0058 4C23     		movs	r3, #76
 586 005a 7B73     		strb	r3, [r7, #13]
  95:hardware/src/ov7670.c **** 			break;	
 587              		.loc 1 95 4
 588 005c 06E0     		b	.L12
 589              	.L13:
  96:hardware/src/ov7670.c **** 		case 4://home
ARM GAS  /tmp/cc8HAVef.s 			page 13


  97:hardware/src/ov7670.c **** 			reg13val=0XE5;
 590              		.loc 1 97 12
 591 005e E523     		movs	r3, #229
 592 0060 FB73     		strb	r3, [r7, #15]
  98:hardware/src/ov7670.c **** 			reg01val=0X96;
 593              		.loc 1 98 12
 594 0062 9623     		movs	r3, #150
 595 0064 BB73     		strb	r3, [r7, #14]
  99:hardware/src/ov7670.c **** 			reg02val=0X40;
 596              		.loc 1 99 12
 597 0066 4023     		movs	r3, #64
 598 0068 7B73     		strb	r3, [r7, #13]
 100:hardware/src/ov7670.c **** 			break;	
 599              		.loc 1 100 4
 600 006a 00BF     		nop
 601              	.L12:
 101:hardware/src/ov7670.c **** 	}
 102:hardware/src/ov7670.c **** 	SCCB_WR_Reg(0X13,reg13val);//COM8设置 
 602              		.loc 1 102 2
 603 006c FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 604 006e 1946     		mov	r1, r3
 605 0070 1320     		movs	r0, #19
 606 0072 FFF7FEFF 		bl	SCCB_WR_Reg
 103:hardware/src/ov7670.c **** 	SCCB_WR_Reg(0X01,reg01val);//AWB蓝色通道增益 
 607              		.loc 1 103 2
 608 0076 BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 609 0078 1946     		mov	r1, r3
 610 007a 0120     		movs	r0, #1
 611 007c FFF7FEFF 		bl	SCCB_WR_Reg
 104:hardware/src/ov7670.c **** 	SCCB_WR_Reg(0X02,reg02val);//AWB红色通道增益 
 612              		.loc 1 104 2
 613 0080 7B7B     		ldrb	r3, [r7, #13]	@ zero_extendqisi2
 614 0082 1946     		mov	r1, r3
 615 0084 0220     		movs	r0, #2
 616 0086 FFF7FEFF 		bl	SCCB_WR_Reg
 105:hardware/src/ov7670.c **** }				  
 617              		.loc 1 105 1
 618 008a 00BF     		nop
 619 008c 1037     		adds	r7, r7, #16
 620              	.LCFI8:
 621              		.cfi_def_cfa_offset 8
 622 008e BD46     		mov	sp, r7
 623              	.LCFI9:
 624              		.cfi_def_cfa_register 13
 625              		@ sp needed
 626 0090 80BD     		pop	{r7, pc}
 627              		.cfi_endproc
 628              	.LFE64:
 630 0092 00BF     		.section	.text.OV7670_Color_Saturation,"ax",%progbits
 631              		.align	1
 632              		.global	OV7670_Color_Saturation
 633              		.syntax unified
 634              		.thumb
 635              		.thumb_func
 636              		.fpu softvfp
 638              	OV7670_Color_Saturation:
 639              	.LFB65:
ARM GAS  /tmp/cc8HAVef.s 			page 14


 106:hardware/src/ov7670.c **** //色度设置
 107:hardware/src/ov7670.c **** //0:-2
 108:hardware/src/ov7670.c **** //1:-1
 109:hardware/src/ov7670.c **** //2,0
 110:hardware/src/ov7670.c **** //3,1
 111:hardware/src/ov7670.c **** //4,2
 112:hardware/src/ov7670.c **** void OV7670_Color_Saturation(u8 sat)
 113:hardware/src/ov7670.c **** {
 640              		.loc 1 113 1
 641              		.cfi_startproc
 642              		@ args = 0, pretend = 0, frame = 16
 643              		@ frame_needed = 1, uses_anonymous_args = 0
 644 0000 80B5     		push	{r7, lr}
 645              	.LCFI10:
 646              		.cfi_def_cfa_offset 8
 647              		.cfi_offset 7, -8
 648              		.cfi_offset 14, -4
 649 0002 84B0     		sub	sp, sp, #16
 650              	.LCFI11:
 651              		.cfi_def_cfa_offset 24
 652 0004 00AF     		add	r7, sp, #0
 653              	.LCFI12:
 654              		.cfi_def_cfa_register 7
 655 0006 0346     		mov	r3, r0
 656 0008 FB71     		strb	r3, [r7, #7]
 114:hardware/src/ov7670.c **** 	u8 reg4f5054val=0X80;//默认就是sat=2,即不调节色度的设置
 657              		.loc 1 114 5
 658 000a 8023     		movs	r3, #128
 659 000c FB73     		strb	r3, [r7, #15]
 115:hardware/src/ov7670.c ****  	u8 reg52val=0X22;
 660              		.loc 1 115 6
 661 000e 2223     		movs	r3, #34
 662 0010 BB73     		strb	r3, [r7, #14]
 116:hardware/src/ov7670.c **** 	u8 reg53val=0X5E;
 663              		.loc 1 116 5
 664 0012 5E23     		movs	r3, #94
 665 0014 7B73     		strb	r3, [r7, #13]
 117:hardware/src/ov7670.c ****  	switch(sat)
 666              		.loc 1 117 3
 667 0016 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 668 0018 042B     		cmp	r3, #4
 669 001a 29D8     		bhi	.L19
 670 001c 01A2     		adr	r2, .L21
 671 001e 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 672 0022 00BF     		.p2align 2
 673              	.L21:
 674 0024 39000000 		.word	.L24+1
 675 0028 47000000 		.word	.L23+1
 676 002c 71000000 		.word	.L19+1
 677 0030 55000000 		.word	.L22+1
 678 0034 63000000 		.word	.L20+1
 679              		.p2align 1
 680              	.L24:
 118:hardware/src/ov7670.c **** 	{
 119:hardware/src/ov7670.c **** 		case 0://-2
 120:hardware/src/ov7670.c **** 			reg4f5054val=0X40;  	 
 681              		.loc 1 120 16
ARM GAS  /tmp/cc8HAVef.s 			page 15


 682 0038 4023     		movs	r3, #64
 683 003a FB73     		strb	r3, [r7, #15]
 121:hardware/src/ov7670.c **** 			reg52val=0X11;
 684              		.loc 1 121 12
 685 003c 1123     		movs	r3, #17
 686 003e BB73     		strb	r3, [r7, #14]
 122:hardware/src/ov7670.c **** 			reg53val=0X2F;	 	 
 687              		.loc 1 122 12
 688 0040 2F23     		movs	r3, #47
 689 0042 7B73     		strb	r3, [r7, #13]
 123:hardware/src/ov7670.c **** 			break;	
 690              		.loc 1 123 4
 691 0044 14E0     		b	.L19
 692              	.L23:
 124:hardware/src/ov7670.c **** 		case 1://-1
 125:hardware/src/ov7670.c **** 			reg4f5054val=0X66;	    
 693              		.loc 1 125 16
 694 0046 6623     		movs	r3, #102
 695 0048 FB73     		strb	r3, [r7, #15]
 126:hardware/src/ov7670.c **** 			reg52val=0X1B;
 696              		.loc 1 126 12
 697 004a 1B23     		movs	r3, #27
 698 004c BB73     		strb	r3, [r7, #14]
 127:hardware/src/ov7670.c **** 			reg53val=0X4B;	  
 699              		.loc 1 127 12
 700 004e 4B23     		movs	r3, #75
 701 0050 7B73     		strb	r3, [r7, #13]
 128:hardware/src/ov7670.c **** 			break;	
 702              		.loc 1 128 4
 703 0052 0DE0     		b	.L19
 704              	.L22:
 129:hardware/src/ov7670.c **** 		case 3://1
 130:hardware/src/ov7670.c **** 			reg4f5054val=0X99;	   
 705              		.loc 1 130 16
 706 0054 9923     		movs	r3, #153
 707 0056 FB73     		strb	r3, [r7, #15]
 131:hardware/src/ov7670.c **** 			reg52val=0X28;
 708              		.loc 1 131 12
 709 0058 2823     		movs	r3, #40
 710 005a BB73     		strb	r3, [r7, #14]
 132:hardware/src/ov7670.c **** 			reg53val=0X71;	   
 711              		.loc 1 132 12
 712 005c 7123     		movs	r3, #113
 713 005e 7B73     		strb	r3, [r7, #13]
 133:hardware/src/ov7670.c **** 			break;	
 714              		.loc 1 133 4
 715 0060 06E0     		b	.L19
 716              	.L20:
 134:hardware/src/ov7670.c **** 		case 4://2
 135:hardware/src/ov7670.c **** 			reg4f5054val=0XC0;	   
 717              		.loc 1 135 16
 718 0062 C023     		movs	r3, #192
 719 0064 FB73     		strb	r3, [r7, #15]
 136:hardware/src/ov7670.c **** 			reg52val=0X33;
 720              		.loc 1 136 12
 721 0066 3323     		movs	r3, #51
 722 0068 BB73     		strb	r3, [r7, #14]
ARM GAS  /tmp/cc8HAVef.s 			page 16


 137:hardware/src/ov7670.c **** 			reg53val=0X8D;	   
 723              		.loc 1 137 12
 724 006a 8D23     		movs	r3, #141
 725 006c 7B73     		strb	r3, [r7, #13]
 138:hardware/src/ov7670.c **** 			break;	
 726              		.loc 1 138 4
 727 006e 00BF     		nop
 728              	.L19:
 139:hardware/src/ov7670.c **** 	}
 140:hardware/src/ov7670.c **** 	SCCB_WR_Reg(0X4F,reg4f5054val);	//色彩矩阵系数1
 729              		.loc 1 140 2
 730 0070 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 731 0072 1946     		mov	r1, r3
 732 0074 4F20     		movs	r0, #79
 733 0076 FFF7FEFF 		bl	SCCB_WR_Reg
 141:hardware/src/ov7670.c **** 	SCCB_WR_Reg(0X50,reg4f5054val);	//色彩矩阵系数2 
 734              		.loc 1 141 2
 735 007a FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 736 007c 1946     		mov	r1, r3
 737 007e 5020     		movs	r0, #80
 738 0080 FFF7FEFF 		bl	SCCB_WR_Reg
 142:hardware/src/ov7670.c **** 	SCCB_WR_Reg(0X51,0X00);			//色彩矩阵系数3  
 739              		.loc 1 142 2
 740 0084 0021     		movs	r1, #0
 741 0086 5120     		movs	r0, #81
 742 0088 FFF7FEFF 		bl	SCCB_WR_Reg
 143:hardware/src/ov7670.c **** 	SCCB_WR_Reg(0X52,reg52val);		//色彩矩阵系数4 
 743              		.loc 1 143 2
 744 008c BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 745 008e 1946     		mov	r1, r3
 746 0090 5220     		movs	r0, #82
 747 0092 FFF7FEFF 		bl	SCCB_WR_Reg
 144:hardware/src/ov7670.c **** 	SCCB_WR_Reg(0X53,reg53val);		//色彩矩阵系数5 
 748              		.loc 1 144 2
 749 0096 7B7B     		ldrb	r3, [r7, #13]	@ zero_extendqisi2
 750 0098 1946     		mov	r1, r3
 751 009a 5320     		movs	r0, #83
 752 009c FFF7FEFF 		bl	SCCB_WR_Reg
 145:hardware/src/ov7670.c **** 	SCCB_WR_Reg(0X54,reg4f5054val);	//色彩矩阵系数6  
 753              		.loc 1 145 2
 754 00a0 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 755 00a2 1946     		mov	r1, r3
 756 00a4 5420     		movs	r0, #84
 757 00a6 FFF7FEFF 		bl	SCCB_WR_Reg
 146:hardware/src/ov7670.c **** 	SCCB_WR_Reg(0X58,0X9E);			//MTXS 
 758              		.loc 1 146 2
 759 00aa 9E21     		movs	r1, #158
 760 00ac 5820     		movs	r0, #88
 761 00ae FFF7FEFF 		bl	SCCB_WR_Reg
 147:hardware/src/ov7670.c **** }
 762              		.loc 1 147 1
 763 00b2 00BF     		nop
 764 00b4 1037     		adds	r7, r7, #16
 765              	.LCFI13:
 766              		.cfi_def_cfa_offset 8
 767 00b6 BD46     		mov	sp, r7
 768              	.LCFI14:
ARM GAS  /tmp/cc8HAVef.s 			page 17


 769              		.cfi_def_cfa_register 13
 770              		@ sp needed
 771 00b8 80BD     		pop	{r7, pc}
 772              		.cfi_endproc
 773              	.LFE65:
 775 00ba 00BF     		.section	.text.OV7670_Brightness,"ax",%progbits
 776              		.align	1
 777              		.global	OV7670_Brightness
 778              		.syntax unified
 779              		.thumb
 780              		.thumb_func
 781              		.fpu softvfp
 783              	OV7670_Brightness:
 784              	.LFB66:
 148:hardware/src/ov7670.c **** //亮度设置
 149:hardware/src/ov7670.c **** //0:-2
 150:hardware/src/ov7670.c **** //1:-1
 151:hardware/src/ov7670.c **** //2,0
 152:hardware/src/ov7670.c **** //3,1
 153:hardware/src/ov7670.c **** //4,2
 154:hardware/src/ov7670.c **** void OV7670_Brightness(u8 bright)
 155:hardware/src/ov7670.c **** {
 785              		.loc 1 155 1
 786              		.cfi_startproc
 787              		@ args = 0, pretend = 0, frame = 16
 788              		@ frame_needed = 1, uses_anonymous_args = 0
 789 0000 80B5     		push	{r7, lr}
 790              	.LCFI15:
 791              		.cfi_def_cfa_offset 8
 792              		.cfi_offset 7, -8
 793              		.cfi_offset 14, -4
 794 0002 84B0     		sub	sp, sp, #16
 795              	.LCFI16:
 796              		.cfi_def_cfa_offset 24
 797 0004 00AF     		add	r7, sp, #0
 798              	.LCFI17:
 799              		.cfi_def_cfa_register 7
 800 0006 0346     		mov	r3, r0
 801 0008 FB71     		strb	r3, [r7, #7]
 156:hardware/src/ov7670.c **** 	u8 reg55val=0X00;//默认就是bright=2
 802              		.loc 1 156 5
 803 000a 0023     		movs	r3, #0
 804 000c FB73     		strb	r3, [r7, #15]
 157:hardware/src/ov7670.c ****   	switch(bright)
 805              		.loc 1 157 4
 806 000e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 807 0010 042B     		cmp	r3, #4
 808 0012 19D8     		bhi	.L26
 809 0014 01A2     		adr	r2, .L28
 810 0016 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 811 001a 00BF     		.p2align 2
 812              	.L28:
 813 001c 31000000 		.word	.L31+1
 814 0020 37000000 		.word	.L30+1
 815 0024 49000000 		.word	.L26+1
 816 0028 3D000000 		.word	.L29+1
 817 002c 43000000 		.word	.L27+1
ARM GAS  /tmp/cc8HAVef.s 			page 18


 818              		.p2align 1
 819              	.L31:
 158:hardware/src/ov7670.c **** 	{
 159:hardware/src/ov7670.c **** 		case 0://-2
 160:hardware/src/ov7670.c **** 			reg55val=0XB0;	 	 
 820              		.loc 1 160 12
 821 0030 B023     		movs	r3, #176
 822 0032 FB73     		strb	r3, [r7, #15]
 161:hardware/src/ov7670.c **** 			break;	
 823              		.loc 1 161 4
 824 0034 08E0     		b	.L26
 825              	.L30:
 162:hardware/src/ov7670.c **** 		case 1://-1
 163:hardware/src/ov7670.c **** 			reg55val=0X98;	 	 
 826              		.loc 1 163 12
 827 0036 9823     		movs	r3, #152
 828 0038 FB73     		strb	r3, [r7, #15]
 164:hardware/src/ov7670.c **** 			break;	
 829              		.loc 1 164 4
 830 003a 05E0     		b	.L26
 831              	.L29:
 165:hardware/src/ov7670.c **** 		case 3://1
 166:hardware/src/ov7670.c **** 			reg55val=0X18;	 	 
 832              		.loc 1 166 12
 833 003c 1823     		movs	r3, #24
 834 003e FB73     		strb	r3, [r7, #15]
 167:hardware/src/ov7670.c **** 			break;	
 835              		.loc 1 167 4
 836 0040 02E0     		b	.L26
 837              	.L27:
 168:hardware/src/ov7670.c **** 		case 4://2
 169:hardware/src/ov7670.c **** 			reg55val=0X30;	 	 
 838              		.loc 1 169 12
 839 0042 3023     		movs	r3, #48
 840 0044 FB73     		strb	r3, [r7, #15]
 170:hardware/src/ov7670.c **** 			break;	
 841              		.loc 1 170 4
 842 0046 00BF     		nop
 843              	.L26:
 171:hardware/src/ov7670.c **** 	}
 172:hardware/src/ov7670.c **** 	SCCB_WR_Reg(0X55,reg55val);	//亮度调节 
 844              		.loc 1 172 2
 845 0048 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 846 004a 1946     		mov	r1, r3
 847 004c 5520     		movs	r0, #85
 848 004e FFF7FEFF 		bl	SCCB_WR_Reg
 173:hardware/src/ov7670.c **** }
 849              		.loc 1 173 1
 850 0052 00BF     		nop
 851 0054 1037     		adds	r7, r7, #16
 852              	.LCFI18:
 853              		.cfi_def_cfa_offset 8
 854 0056 BD46     		mov	sp, r7
 855              	.LCFI19:
 856              		.cfi_def_cfa_register 13
 857              		@ sp needed
 858 0058 80BD     		pop	{r7, pc}
ARM GAS  /tmp/cc8HAVef.s 			page 19


 859              		.cfi_endproc
 860              	.LFE66:
 862 005a 00BF     		.section	.text.OV7670_Contrast,"ax",%progbits
 863              		.align	1
 864              		.global	OV7670_Contrast
 865              		.syntax unified
 866              		.thumb
 867              		.thumb_func
 868              		.fpu softvfp
 870              	OV7670_Contrast:
 871              	.LFB67:
 174:hardware/src/ov7670.c **** //对比度设置
 175:hardware/src/ov7670.c **** //0:-2
 176:hardware/src/ov7670.c **** //1:-1
 177:hardware/src/ov7670.c **** //2,0
 178:hardware/src/ov7670.c **** //3,1
 179:hardware/src/ov7670.c **** //4,2
 180:hardware/src/ov7670.c **** void OV7670_Contrast(u8 contrast)
 181:hardware/src/ov7670.c **** {
 872              		.loc 1 181 1
 873              		.cfi_startproc
 874              		@ args = 0, pretend = 0, frame = 16
 875              		@ frame_needed = 1, uses_anonymous_args = 0
 876 0000 80B5     		push	{r7, lr}
 877              	.LCFI20:
 878              		.cfi_def_cfa_offset 8
 879              		.cfi_offset 7, -8
 880              		.cfi_offset 14, -4
 881 0002 84B0     		sub	sp, sp, #16
 882              	.LCFI21:
 883              		.cfi_def_cfa_offset 24
 884 0004 00AF     		add	r7, sp, #0
 885              	.LCFI22:
 886              		.cfi_def_cfa_register 7
 887 0006 0346     		mov	r3, r0
 888 0008 FB71     		strb	r3, [r7, #7]
 182:hardware/src/ov7670.c **** 	u8 reg56val=0X40;//默认就是contrast=2
 889              		.loc 1 182 5
 890 000a 4023     		movs	r3, #64
 891 000c FB73     		strb	r3, [r7, #15]
 183:hardware/src/ov7670.c ****   	switch(contrast)
 892              		.loc 1 183 4
 893 000e FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 894 0010 042B     		cmp	r3, #4
 895 0012 19D8     		bhi	.L33
 896 0014 01A2     		adr	r2, .L35
 897 0016 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 898 001a 00BF     		.p2align 2
 899              	.L35:
 900 001c 31000000 		.word	.L38+1
 901 0020 37000000 		.word	.L37+1
 902 0024 49000000 		.word	.L33+1
 903 0028 3D000000 		.word	.L36+1
 904 002c 43000000 		.word	.L34+1
 905              		.p2align 1
 906              	.L38:
 184:hardware/src/ov7670.c **** 	{
ARM GAS  /tmp/cc8HAVef.s 			page 20


 185:hardware/src/ov7670.c **** 		case 0://-2
 186:hardware/src/ov7670.c **** 			reg56val=0X30;	 	 
 907              		.loc 1 186 12
 908 0030 3023     		movs	r3, #48
 909 0032 FB73     		strb	r3, [r7, #15]
 187:hardware/src/ov7670.c **** 			break;	
 910              		.loc 1 187 4
 911 0034 08E0     		b	.L33
 912              	.L37:
 188:hardware/src/ov7670.c **** 		case 1://-1
 189:hardware/src/ov7670.c **** 			reg56val=0X38;	 	 
 913              		.loc 1 189 12
 914 0036 3823     		movs	r3, #56
 915 0038 FB73     		strb	r3, [r7, #15]
 190:hardware/src/ov7670.c **** 			break;	
 916              		.loc 1 190 4
 917 003a 05E0     		b	.L33
 918              	.L36:
 191:hardware/src/ov7670.c **** 		case 3://1
 192:hardware/src/ov7670.c **** 			reg56val=0X50;	 	 
 919              		.loc 1 192 12
 920 003c 5023     		movs	r3, #80
 921 003e FB73     		strb	r3, [r7, #15]
 193:hardware/src/ov7670.c **** 			break;	
 922              		.loc 1 193 4
 923 0040 02E0     		b	.L33
 924              	.L34:
 194:hardware/src/ov7670.c **** 		case 4://2
 195:hardware/src/ov7670.c **** 			reg56val=0X60;	 	 
 925              		.loc 1 195 12
 926 0042 6023     		movs	r3, #96
 927 0044 FB73     		strb	r3, [r7, #15]
 196:hardware/src/ov7670.c **** 			break;	
 928              		.loc 1 196 4
 929 0046 00BF     		nop
 930              	.L33:
 197:hardware/src/ov7670.c **** 	}
 198:hardware/src/ov7670.c **** 	SCCB_WR_Reg(0X56,reg56val);	//对比度调节 
 931              		.loc 1 198 2
 932 0048 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 933 004a 1946     		mov	r1, r3
 934 004c 5620     		movs	r0, #86
 935 004e FFF7FEFF 		bl	SCCB_WR_Reg
 199:hardware/src/ov7670.c **** }
 936              		.loc 1 199 1
 937 0052 00BF     		nop
 938 0054 1037     		adds	r7, r7, #16
 939              	.LCFI23:
 940              		.cfi_def_cfa_offset 8
 941 0056 BD46     		mov	sp, r7
 942              	.LCFI24:
 943              		.cfi_def_cfa_register 13
 944              		@ sp needed
 945 0058 80BD     		pop	{r7, pc}
 946              		.cfi_endproc
 947              	.LFE67:
 949 005a 00BF     		.section	.text.OV7670_Special_Effects,"ax",%progbits
ARM GAS  /tmp/cc8HAVef.s 			page 21


 950              		.align	1
 951              		.global	OV7670_Special_Effects
 952              		.syntax unified
 953              		.thumb
 954              		.thumb_func
 955              		.fpu softvfp
 957              	OV7670_Special_Effects:
 958              	.LFB68:
 200:hardware/src/ov7670.c **** //特效设置
 201:hardware/src/ov7670.c **** //0:普通模式    
 202:hardware/src/ov7670.c **** //1,负片
 203:hardware/src/ov7670.c **** //2,黑白   
 204:hardware/src/ov7670.c **** //3,偏红色
 205:hardware/src/ov7670.c **** //4,偏绿色
 206:hardware/src/ov7670.c **** //5,偏蓝色
 207:hardware/src/ov7670.c **** //6,复古	    
 208:hardware/src/ov7670.c **** void OV7670_Special_Effects(u8 eft)
 209:hardware/src/ov7670.c **** {
 959              		.loc 1 209 1
 960              		.cfi_startproc
 961              		@ args = 0, pretend = 0, frame = 16
 962              		@ frame_needed = 1, uses_anonymous_args = 0
 963 0000 80B5     		push	{r7, lr}
 964              	.LCFI25:
 965              		.cfi_def_cfa_offset 8
 966              		.cfi_offset 7, -8
 967              		.cfi_offset 14, -4
 968 0002 84B0     		sub	sp, sp, #16
 969              	.LCFI26:
 970              		.cfi_def_cfa_offset 24
 971 0004 00AF     		add	r7, sp, #0
 972              	.LCFI27:
 973              		.cfi_def_cfa_register 7
 974 0006 0346     		mov	r3, r0
 975 0008 FB71     		strb	r3, [r7, #7]
 210:hardware/src/ov7670.c **** 	u8 reg3aval=0X04;//默认为普通模式
 976              		.loc 1 210 5
 977 000a 0423     		movs	r3, #4
 978 000c FB73     		strb	r3, [r7, #15]
 211:hardware/src/ov7670.c **** 	u8 reg67val=0XC0;
 979              		.loc 1 211 5
 980 000e C023     		movs	r3, #192
 981 0010 BB73     		strb	r3, [r7, #14]
 212:hardware/src/ov7670.c **** 	u8 reg68val=0X80;
 982              		.loc 1 212 5
 983 0012 8023     		movs	r3, #128
 984 0014 7B73     		strb	r3, [r7, #13]
 213:hardware/src/ov7670.c **** 	switch(eft)
 985              		.loc 1 213 2
 986 0016 FB79     		ldrb	r3, [r7, #7]	@ zero_extendqisi2
 987 0018 013B     		subs	r3, r3, #1
 988 001a 052B     		cmp	r3, #5
 989 001c 38D8     		bhi	.L40
 990 001e 01A2     		adr	r2, .L42
 991 0020 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 992              		.p2align 2
 993              	.L42:
ARM GAS  /tmp/cc8HAVef.s 			page 22


 994 0024 3D000000 		.word	.L47+1
 995 0028 4B000000 		.word	.L46+1
 996 002c 59000000 		.word	.L45+1
 997 0030 67000000 		.word	.L44+1
 998 0034 75000000 		.word	.L43+1
 999 0038 83000000 		.word	.L41+1
 1000              		.p2align 1
 1001              	.L47:
 214:hardware/src/ov7670.c **** 	{
 215:hardware/src/ov7670.c **** 		case 1://负片
 216:hardware/src/ov7670.c **** 			reg3aval=0X24;
 1002              		.loc 1 216 12
 1003 003c 2423     		movs	r3, #36
 1004 003e FB73     		strb	r3, [r7, #15]
 217:hardware/src/ov7670.c **** 			reg67val=0X80;
 1005              		.loc 1 217 12
 1006 0040 8023     		movs	r3, #128
 1007 0042 BB73     		strb	r3, [r7, #14]
 218:hardware/src/ov7670.c **** 			reg68val=0X80;
 1008              		.loc 1 218 12
 1009 0044 8023     		movs	r3, #128
 1010 0046 7B73     		strb	r3, [r7, #13]
 219:hardware/src/ov7670.c **** 			break;	
 1011              		.loc 1 219 4
 1012 0048 22E0     		b	.L40
 1013              	.L46:
 220:hardware/src/ov7670.c **** 		case 2://黑白
 221:hardware/src/ov7670.c **** 			reg3aval=0X14;
 1014              		.loc 1 221 12
 1015 004a 1423     		movs	r3, #20
 1016 004c FB73     		strb	r3, [r7, #15]
 222:hardware/src/ov7670.c **** 			reg67val=0X80;
 1017              		.loc 1 222 12
 1018 004e 8023     		movs	r3, #128
 1019 0050 BB73     		strb	r3, [r7, #14]
 223:hardware/src/ov7670.c **** 			reg68val=0X80;
 1020              		.loc 1 223 12
 1021 0052 8023     		movs	r3, #128
 1022 0054 7B73     		strb	r3, [r7, #13]
 224:hardware/src/ov7670.c **** 			break;	
 1023              		.loc 1 224 4
 1024 0056 1BE0     		b	.L40
 1025              	.L45:
 225:hardware/src/ov7670.c **** 		case 3://偏红色
 226:hardware/src/ov7670.c **** 			reg3aval=0X14;
 1026              		.loc 1 226 12
 1027 0058 1423     		movs	r3, #20
 1028 005a FB73     		strb	r3, [r7, #15]
 227:hardware/src/ov7670.c **** 			reg67val=0Xc0;
 1029              		.loc 1 227 12
 1030 005c C023     		movs	r3, #192
 1031 005e BB73     		strb	r3, [r7, #14]
 228:hardware/src/ov7670.c **** 			reg68val=0X80;
 1032              		.loc 1 228 12
 1033 0060 8023     		movs	r3, #128
 1034 0062 7B73     		strb	r3, [r7, #13]
 229:hardware/src/ov7670.c **** 			break;	
ARM GAS  /tmp/cc8HAVef.s 			page 23


 1035              		.loc 1 229 4
 1036 0064 14E0     		b	.L40
 1037              	.L44:
 230:hardware/src/ov7670.c **** 		case 4://偏绿色
 231:hardware/src/ov7670.c **** 			reg3aval=0X14;
 1038              		.loc 1 231 12
 1039 0066 1423     		movs	r3, #20
 1040 0068 FB73     		strb	r3, [r7, #15]
 232:hardware/src/ov7670.c **** 			reg67val=0X40;
 1041              		.loc 1 232 12
 1042 006a 4023     		movs	r3, #64
 1043 006c BB73     		strb	r3, [r7, #14]
 233:hardware/src/ov7670.c **** 			reg68val=0X40;
 1044              		.loc 1 233 12
 1045 006e 4023     		movs	r3, #64
 1046 0070 7B73     		strb	r3, [r7, #13]
 234:hardware/src/ov7670.c **** 			break;	
 1047              		.loc 1 234 4
 1048 0072 0DE0     		b	.L40
 1049              	.L43:
 235:hardware/src/ov7670.c **** 		case 5://偏蓝色
 236:hardware/src/ov7670.c **** 			reg3aval=0X14;
 1050              		.loc 1 236 12
 1051 0074 1423     		movs	r3, #20
 1052 0076 FB73     		strb	r3, [r7, #15]
 237:hardware/src/ov7670.c **** 			reg67val=0X80;
 1053              		.loc 1 237 12
 1054 0078 8023     		movs	r3, #128
 1055 007a BB73     		strb	r3, [r7, #14]
 238:hardware/src/ov7670.c **** 			reg68val=0XC0;
 1056              		.loc 1 238 12
 1057 007c C023     		movs	r3, #192
 1058 007e 7B73     		strb	r3, [r7, #13]
 239:hardware/src/ov7670.c **** 			break;	
 1059              		.loc 1 239 4
 1060 0080 06E0     		b	.L40
 1061              	.L41:
 240:hardware/src/ov7670.c **** 		case 6://复古
 241:hardware/src/ov7670.c **** 			reg3aval=0X14;
 1062              		.loc 1 241 12
 1063 0082 1423     		movs	r3, #20
 1064 0084 FB73     		strb	r3, [r7, #15]
 242:hardware/src/ov7670.c **** 			reg67val=0XA0;
 1065              		.loc 1 242 12
 1066 0086 A023     		movs	r3, #160
 1067 0088 BB73     		strb	r3, [r7, #14]
 243:hardware/src/ov7670.c **** 			reg68val=0X40;
 1068              		.loc 1 243 12
 1069 008a 4023     		movs	r3, #64
 1070 008c 7B73     		strb	r3, [r7, #13]
 244:hardware/src/ov7670.c **** 			break;	 
 1071              		.loc 1 244 4
 1072 008e 00BF     		nop
 1073              	.L40:
 245:hardware/src/ov7670.c **** 	}
 246:hardware/src/ov7670.c **** 	SCCB_WR_Reg(0X3A,reg3aval);//TSLB设置 
 1074              		.loc 1 246 2
ARM GAS  /tmp/cc8HAVef.s 			page 24


 1075 0090 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
 1076 0092 1946     		mov	r1, r3
 1077 0094 3A20     		movs	r0, #58
 1078 0096 FFF7FEFF 		bl	SCCB_WR_Reg
 247:hardware/src/ov7670.c **** 	SCCB_WR_Reg(0X68,reg67val);//MANU,手动U值 
 1079              		.loc 1 247 2
 1080 009a BB7B     		ldrb	r3, [r7, #14]	@ zero_extendqisi2
 1081 009c 1946     		mov	r1, r3
 1082 009e 6820     		movs	r0, #104
 1083 00a0 FFF7FEFF 		bl	SCCB_WR_Reg
 248:hardware/src/ov7670.c **** 	SCCB_WR_Reg(0X67,reg68val);//MANV,手动V值 
 1084              		.loc 1 248 2
 1085 00a4 7B7B     		ldrb	r3, [r7, #13]	@ zero_extendqisi2
 1086 00a6 1946     		mov	r1, r3
 1087 00a8 6720     		movs	r0, #103
 1088 00aa FFF7FEFF 		bl	SCCB_WR_Reg
 249:hardware/src/ov7670.c **** }	
 1089              		.loc 1 249 1
 1090 00ae 00BF     		nop
 1091 00b0 1037     		adds	r7, r7, #16
 1092              	.LCFI28:
 1093              		.cfi_def_cfa_offset 8
 1094 00b2 BD46     		mov	sp, r7
 1095              	.LCFI29:
 1096              		.cfi_def_cfa_register 13
 1097              		@ sp needed
 1098 00b4 80BD     		pop	{r7, pc}
 1099              		.cfi_endproc
 1100              	.LFE68:
 1102 00b6 00BF     		.section	.text.OV7670_Window_Set,"ax",%progbits
 1103              		.align	1
 1104              		.global	OV7670_Window_Set
 1105              		.syntax unified
 1106              		.thumb
 1107              		.thumb_func
 1108              		.fpu softvfp
 1110              	OV7670_Window_Set:
 1111              	.LFB69:
 250:hardware/src/ov7670.c **** //设置图像输出窗口
 251:hardware/src/ov7670.c **** //对QVGA设置。
 252:hardware/src/ov7670.c **** void OV7670_Window_Set(u16 sx,u16 sy,u16 width,u16 height)
 253:hardware/src/ov7670.c **** {
 1112              		.loc 1 253 1
 1113              		.cfi_startproc
 1114              		@ args = 0, pretend = 0, frame = 16
 1115              		@ frame_needed = 1, uses_anonymous_args = 0
 1116 0000 90B5     		push	{r4, r7, lr}
 1117              	.LCFI30:
 1118              		.cfi_def_cfa_offset 12
 1119              		.cfi_offset 4, -12
 1120              		.cfi_offset 7, -8
 1121              		.cfi_offset 14, -4
 1122 0002 85B0     		sub	sp, sp, #20
 1123              	.LCFI31:
 1124              		.cfi_def_cfa_offset 32
 1125 0004 00AF     		add	r7, sp, #0
 1126              	.LCFI32:
ARM GAS  /tmp/cc8HAVef.s 			page 25


 1127              		.cfi_def_cfa_register 7
 1128 0006 0446     		mov	r4, r0
 1129 0008 0846     		mov	r0, r1
 1130 000a 1146     		mov	r1, r2
 1131 000c 1A46     		mov	r2, r3
 1132 000e 2346     		mov	r3, r4	@ movhi
 1133 0010 FB80     		strh	r3, [r7, #6]	@ movhi
 1134 0012 0346     		mov	r3, r0	@ movhi
 1135 0014 BB80     		strh	r3, [r7, #4]	@ movhi
 1136 0016 0B46     		mov	r3, r1	@ movhi
 1137 0018 7B80     		strh	r3, [r7, #2]	@ movhi
 1138 001a 1346     		mov	r3, r2	@ movhi
 1139 001c 3B80     		strh	r3, [r7]	@ movhi
 254:hardware/src/ov7670.c **** 	u16 endx;
 255:hardware/src/ov7670.c **** 	u16 endy;
 256:hardware/src/ov7670.c **** 	u8 temp; 
 257:hardware/src/ov7670.c **** 	endx=sx+width*2;	//V*2
 1140              		.loc 1 257 9
 1141 001e 7B88     		ldrh	r3, [r7, #2]	@ movhi
 1142 0020 5B00     		lsls	r3, r3, #1
 1143 0022 9AB2     		uxth	r2, r3
 1144              		.loc 1 257 6
 1145 0024 FB88     		ldrh	r3, [r7, #6]	@ movhi
 1146 0026 1344     		add	r3, r3, r2
 1147 0028 BB81     		strh	r3, [r7, #12]	@ movhi
 258:hardware/src/ov7670.c ****  	endy=sy+height*2;
 1148              		.loc 1 258 10
 1149 002a 3B88     		ldrh	r3, [r7]	@ movhi
 1150 002c 5B00     		lsls	r3, r3, #1
 1151 002e 9AB2     		uxth	r2, r3
 1152              		.loc 1 258 7
 1153 0030 BB88     		ldrh	r3, [r7, #4]	@ movhi
 1154 0032 1344     		add	r3, r3, r2
 1155 0034 FB81     		strh	r3, [r7, #14]	@ movhi
 259:hardware/src/ov7670.c **** 	if(endy>784)endy-=784;
 1156              		.loc 1 259 4
 1157 0036 FB89     		ldrh	r3, [r7, #14]
 1158 0038 B3F5447F 		cmp	r3, #784
 1159 003c 03D9     		bls	.L49
 1160              		.loc 1 259 18 discriminator 1
 1161 003e FB89     		ldrh	r3, [r7, #14]	@ movhi
 1162 0040 A3F54473 		sub	r3, r3, #784
 1163 0044 FB81     		strh	r3, [r7, #14]	@ movhi
 1164              	.L49:
 260:hardware/src/ov7670.c **** 	temp=SCCB_RD_Reg(0X03);				//读取Vref之前的值
 1165              		.loc 1 260 7
 1166 0046 0320     		movs	r0, #3
 1167 0048 FFF7FEFF 		bl	SCCB_RD_Reg
 1168 004c 0346     		mov	r3, r0
 1169 004e FB72     		strb	r3, [r7, #11]
 261:hardware/src/ov7670.c **** 	temp&=0XF0;
 1170              		.loc 1 261 6
 1171 0050 FB7A     		ldrb	r3, [r7, #11]
 1172 0052 23F00F03 		bic	r3, r3, #15
 1173 0056 FB72     		strb	r3, [r7, #11]
 262:hardware/src/ov7670.c **** 	temp|=((endx&0X03)<<2)|(sx&0X03);
 1174              		.loc 1 262 20
ARM GAS  /tmp/cc8HAVef.s 			page 26


 1175 0058 BB89     		ldrh	r3, [r7, #12]
 1176 005a 9B00     		lsls	r3, r3, #2
 1177 005c 5BB2     		sxtb	r3, r3
 1178 005e 03F00C03 		and	r3, r3, #12
 1179 0062 5AB2     		sxtb	r2, r3
 1180              		.loc 1 262 28
 1181 0064 FB88     		ldrh	r3, [r7, #6]	@ movhi
 1182 0066 5BB2     		sxtb	r3, r3
 1183 0068 03F00303 		and	r3, r3, #3
 1184 006c 5BB2     		sxtb	r3, r3
 1185              		.loc 1 262 24
 1186 006e 1343     		orrs	r3, r3, r2
 1187 0070 5AB2     		sxtb	r2, r3
 1188              		.loc 1 262 6
 1189 0072 97F90B30 		ldrsb	r3, [r7, #11]
 1190 0076 1343     		orrs	r3, r3, r2
 1191 0078 5BB2     		sxtb	r3, r3
 1192 007a FB72     		strb	r3, [r7, #11]
 263:hardware/src/ov7670.c **** 	SCCB_WR_Reg(0X03,temp);				//设置Vref的start和end的最低2位
 1193              		.loc 1 263 2
 1194 007c FB7A     		ldrb	r3, [r7, #11]	@ zero_extendqisi2
 1195 007e 1946     		mov	r1, r3
 1196 0080 0320     		movs	r0, #3
 1197 0082 FFF7FEFF 		bl	SCCB_WR_Reg
 264:hardware/src/ov7670.c **** 	SCCB_WR_Reg(0X19,sx>>2);			//设置Vref的start高8位
 1198              		.loc 1 264 2
 1199 0086 FB88     		ldrh	r3, [r7, #6]
 1200 0088 9B08     		lsrs	r3, r3, #2
 1201 008a 9BB2     		uxth	r3, r3
 1202 008c DBB2     		uxtb	r3, r3
 1203 008e 1946     		mov	r1, r3
 1204 0090 1920     		movs	r0, #25
 1205 0092 FFF7FEFF 		bl	SCCB_WR_Reg
 265:hardware/src/ov7670.c **** 	SCCB_WR_Reg(0X1A,endx>>2);			//设置Vref的end的高8位
 1206              		.loc 1 265 2
 1207 0096 BB89     		ldrh	r3, [r7, #12]
 1208 0098 9B08     		lsrs	r3, r3, #2
 1209 009a 9BB2     		uxth	r3, r3
 1210 009c DBB2     		uxtb	r3, r3
 1211 009e 1946     		mov	r1, r3
 1212 00a0 1A20     		movs	r0, #26
 1213 00a2 FFF7FEFF 		bl	SCCB_WR_Reg
 266:hardware/src/ov7670.c **** 
 267:hardware/src/ov7670.c **** 	temp=SCCB_RD_Reg(0X32);				//读取Href之前的值
 1214              		.loc 1 267 7
 1215 00a6 3220     		movs	r0, #50
 1216 00a8 FFF7FEFF 		bl	SCCB_RD_Reg
 1217 00ac 0346     		mov	r3, r0
 1218 00ae FB72     		strb	r3, [r7, #11]
 268:hardware/src/ov7670.c **** 	temp&=0XC0;
 1219              		.loc 1 268 6
 1220 00b0 FB7A     		ldrb	r3, [r7, #11]
 1221 00b2 23F03F03 		bic	r3, r3, #63
 1222 00b6 FB72     		strb	r3, [r7, #11]
 269:hardware/src/ov7670.c **** 	temp|=((endy&0X07)<<3)|(sy&0X07);
 1223              		.loc 1 269 20
 1224 00b8 FB89     		ldrh	r3, [r7, #14]
ARM GAS  /tmp/cc8HAVef.s 			page 27


 1225 00ba DB00     		lsls	r3, r3, #3
 1226 00bc 5BB2     		sxtb	r3, r3
 1227 00be 03F03803 		and	r3, r3, #56
 1228 00c2 5AB2     		sxtb	r2, r3
 1229              		.loc 1 269 28
 1230 00c4 BB88     		ldrh	r3, [r7, #4]	@ movhi
 1231 00c6 5BB2     		sxtb	r3, r3
 1232 00c8 03F00703 		and	r3, r3, #7
 1233 00cc 5BB2     		sxtb	r3, r3
 1234              		.loc 1 269 24
 1235 00ce 1343     		orrs	r3, r3, r2
 1236 00d0 5AB2     		sxtb	r2, r3
 1237              		.loc 1 269 6
 1238 00d2 97F90B30 		ldrsb	r3, [r7, #11]
 1239 00d6 1343     		orrs	r3, r3, r2
 1240 00d8 5BB2     		sxtb	r3, r3
 1241 00da FB72     		strb	r3, [r7, #11]
 270:hardware/src/ov7670.c **** 	SCCB_WR_Reg(0X17,sy>>3);			//设置Href的start高8位
 1242              		.loc 1 270 2
 1243 00dc BB88     		ldrh	r3, [r7, #4]
 1244 00de DB08     		lsrs	r3, r3, #3
 1245 00e0 9BB2     		uxth	r3, r3
 1246 00e2 DBB2     		uxtb	r3, r3
 1247 00e4 1946     		mov	r1, r3
 1248 00e6 1720     		movs	r0, #23
 1249 00e8 FFF7FEFF 		bl	SCCB_WR_Reg
 271:hardware/src/ov7670.c **** 	SCCB_WR_Reg(0X18,endy>>3);			//设置Href的end的高8位
 1250              		.loc 1 271 2
 1251 00ec FB89     		ldrh	r3, [r7, #14]
 1252 00ee DB08     		lsrs	r3, r3, #3
 1253 00f0 9BB2     		uxth	r3, r3
 1254 00f2 DBB2     		uxtb	r3, r3
 1255 00f4 1946     		mov	r1, r3
 1256 00f6 1820     		movs	r0, #24
 1257 00f8 FFF7FEFF 		bl	SCCB_WR_Reg
 272:hardware/src/ov7670.c **** }
 1258              		.loc 1 272 1
 1259 00fc 00BF     		nop
 1260 00fe 1437     		adds	r7, r7, #20
 1261              	.LCFI33:
 1262              		.cfi_def_cfa_offset 12
 1263 0100 BD46     		mov	sp, r7
 1264              	.LCFI34:
 1265              		.cfi_def_cfa_register 13
 1266              		@ sp needed
 1267 0102 90BD     		pop	{r4, r7, pc}
 1268              		.cfi_endproc
 1269              	.LFE69:
 1271              		.text
 1272              	.Letext0:
 1273              		.file 2 "/home/ubuntu/tools/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/machine/_defa
 1274              		.file 3 "/home/ubuntu/tools/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys/_stdint.h
 1275              		.file 4 "Inc/stm32f10x.h"
 1276              		.file 5 "Drivers/Inc/stm32f10x_gpio.h"
 1277              		.file 6 "hardware/inc/ov7670.h"
 1278              		.file 7 "hardware/inc/ov7670config.h"
ARM GAS  /tmp/cc8HAVef.s 			page 28


DEFINED SYMBOLS
                            *ABS*:0000000000000000 ov7670.c
     /tmp/cc8HAVef.s:20     .rodata.ov7670_init_reg_tbl:0000000000000000 ov7670_init_reg_tbl
     /tmp/cc8HAVef.s:17     .rodata.ov7670_init_reg_tbl:0000000000000000 $d
     /tmp/cc8HAVef.s:142    .rodata.ov7670_init_reg_tbl_csdn:0000000000000000 ov7670_init_reg_tbl_csdn
     /tmp/cc8HAVef.s:139    .rodata.ov7670_init_reg_tbl_csdn:0000000000000000 $d
     /tmp/cc8HAVef.s:315    .text.OV7670_Init:0000000000000000 $t
     /tmp/cc8HAVef.s:323    .text.OV7670_Init:0000000000000000 OV7670_Init
     /tmp/cc8HAVef.s:496    .text.OV7670_Init:0000000000000100 $d
     /tmp/cc8HAVef.s:504    .text.OV7670_Light_Mode:0000000000000000 $t
     /tmp/cc8HAVef.s:511    .text.OV7670_Light_Mode:0000000000000000 OV7670_Light_Mode
     /tmp/cc8HAVef.s:548    .text.OV7670_Light_Mode:0000000000000024 $d
     /tmp/cc8HAVef.s:552    .text.OV7670_Light_Mode:0000000000000034 $t
     /tmp/cc8HAVef.s:631    .text.OV7670_Color_Saturation:0000000000000000 $t
     /tmp/cc8HAVef.s:638    .text.OV7670_Color_Saturation:0000000000000000 OV7670_Color_Saturation
     /tmp/cc8HAVef.s:674    .text.OV7670_Color_Saturation:0000000000000024 $d
     /tmp/cc8HAVef.s:679    .text.OV7670_Color_Saturation:0000000000000038 $t
     /tmp/cc8HAVef.s:776    .text.OV7670_Brightness:0000000000000000 $t
     /tmp/cc8HAVef.s:783    .text.OV7670_Brightness:0000000000000000 OV7670_Brightness
     /tmp/cc8HAVef.s:813    .text.OV7670_Brightness:000000000000001c $d
     /tmp/cc8HAVef.s:818    .text.OV7670_Brightness:0000000000000030 $t
     /tmp/cc8HAVef.s:863    .text.OV7670_Contrast:0000000000000000 $t
     /tmp/cc8HAVef.s:870    .text.OV7670_Contrast:0000000000000000 OV7670_Contrast
     /tmp/cc8HAVef.s:900    .text.OV7670_Contrast:000000000000001c $d
     /tmp/cc8HAVef.s:905    .text.OV7670_Contrast:0000000000000030 $t
     /tmp/cc8HAVef.s:950    .text.OV7670_Special_Effects:0000000000000000 $t
     /tmp/cc8HAVef.s:957    .text.OV7670_Special_Effects:0000000000000000 OV7670_Special_Effects
     /tmp/cc8HAVef.s:994    .text.OV7670_Special_Effects:0000000000000024 $d
     /tmp/cc8HAVef.s:1000   .text.OV7670_Special_Effects:000000000000003c $t
     /tmp/cc8HAVef.s:1103   .text.OV7670_Window_Set:0000000000000000 $t
     /tmp/cc8HAVef.s:1110   .text.OV7670_Window_Set:0000000000000000 OV7670_Window_Set

UNDEFINED SYMBOLS
RCC_APB2PeriphClockCmd
GPIO_Init
GPIO_SetBits
GPIO_ResetBits
SCCB_Init
SCCB_WR_Reg
delay_ms
SCCB_RD_Reg
