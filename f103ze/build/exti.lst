ARM GAS  /tmp/ccljlI7X.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 6
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"exti.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.EXTI0_IRQHandler,"ax",%progbits
  16              		.align	1
  17              		.global	EXTI0_IRQHandler
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	EXTI0_IRQHandler:
  25              	.LFB63:
  26              		.file 1 "hardware/src/exti.c"
   1:hardware/src/exti.c **** #include "exti.h"
   2:hardware/src/exti.c **** #include "delay.h" 
   3:hardware/src/exti.c **** #include "ov7670.h"
   4:hardware/src/exti.c **** 
   5:hardware/src/exti.c **** extern char KEY0_PUSH;
   6:hardware/src/exti.c **** extern char KEY1_PUSH;
   7:hardware/src/exti.c **** 
   8:hardware/src/exti.c **** //Íâ²¿ÖÐ¶Ï0·þÎñ³ÌÐò
   9:hardware/src/exti.c **** void EXTI0_IRQHandler(void)
  10:hardware/src/exti.c **** {
  27              		.loc 1 10 1
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 1, uses_anonymous_args = 0
  31 0000 80B5     		push	{r7, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 7, -8
  35              		.cfi_offset 14, -4
  36 0002 00AF     		add	r7, sp, #0
  37              	.LCFI1:
  38              		.cfi_def_cfa_register 7
  11:hardware/src/exti.c **** 	delay_ms(10);	//Ïû¶¶
  39              		.loc 1 11 2
  40 0004 0A20     		movs	r0, #10
  41 0006 FFF7FEFF 		bl	delay_ms
  12:hardware/src/exti.c ****   EXTI_ClearITPendingBit(EXTI_Line0);  //Çå³ýEXTI0ÏßÂ·¹ÒÆðÎ»  
  42              		.loc 1 12 3
  43 000a 0120     		movs	r0, #1
  44 000c FFF7FEFF 		bl	EXTI_ClearITPendingBit
  13:hardware/src/exti.c **** }
  45              		.loc 1 13 1
ARM GAS  /tmp/ccljlI7X.s 			page 2


  46 0010 00BF     		nop
  47 0012 80BD     		pop	{r7, pc}
  48              		.cfi_endproc
  49              	.LFE63:
  51              		.section	.text.EXTI2_IRQHandler,"ax",%progbits
  52              		.align	1
  53              		.global	EXTI2_IRQHandler
  54              		.syntax unified
  55              		.thumb
  56              		.thumb_func
  57              		.fpu softvfp
  59              	EXTI2_IRQHandler:
  60              	.LFB64:
  14:hardware/src/exti.c **** //Íâ²¿ÖÐ¶Ï2·þÎñ³ÌÐò
  15:hardware/src/exti.c **** void EXTI2_IRQHandler(void)
  16:hardware/src/exti.c **** {
  61              		.loc 1 16 1
  62              		.cfi_startproc
  63              		@ args = 0, pretend = 0, frame = 0
  64              		@ frame_needed = 1, uses_anonymous_args = 0
  65 0000 80B5     		push	{r7, lr}
  66              	.LCFI2:
  67              		.cfi_def_cfa_offset 8
  68              		.cfi_offset 7, -8
  69              		.cfi_offset 14, -4
  70 0002 00AF     		add	r7, sp, #0
  71              	.LCFI3:
  72              		.cfi_def_cfa_register 7
  17:hardware/src/exti.c **** 	delay_ms(10);	//Ïû¶¶
  73              		.loc 1 17 2
  74 0004 0A20     		movs	r0, #10
  75 0006 FFF7FEFF 		bl	delay_ms
  18:hardware/src/exti.c ****   EXTI_ClearITPendingBit(EXTI_Line2);  //Çå³ýEXTI0ÏßÂ·¹ÒÆðÎ»
  76              		.loc 1 18 3
  77 000a 0420     		movs	r0, #4
  78 000c FFF7FEFF 		bl	EXTI_ClearITPendingBit
  19:hardware/src/exti.c **** }
  79              		.loc 1 19 1
  80 0010 00BF     		nop
  81 0012 80BD     		pop	{r7, pc}
  82              		.cfi_endproc
  83              	.LFE64:
  85              		.section	.rodata
  86              		.align	2
  87              	.LC0:
  88 0000 70757368 		.ascii	"push key 0!\015\000"
  88      206B6579 
  88      2030210D 
  88      00
  89              		.section	.text.EXTI3_IRQHandler,"ax",%progbits
  90              		.align	1
  91              		.global	EXTI3_IRQHandler
  92              		.syntax unified
  93              		.thumb
  94              		.thumb_func
  95              		.fpu softvfp
  97              	EXTI3_IRQHandler:
ARM GAS  /tmp/ccljlI7X.s 			page 3


  98              	.LFB65:
  20:hardware/src/exti.c **** //Íâ²¿ÖÐ¶Ï3·þÎñ³ÌÐò
  21:hardware/src/exti.c **** void EXTI3_IRQHandler(void)
  22:hardware/src/exti.c **** {
  99              		.loc 1 22 1
 100              		.cfi_startproc
 101              		@ args = 0, pretend = 0, frame = 0
 102              		@ frame_needed = 1, uses_anonymous_args = 0
 103 0000 80B5     		push	{r7, lr}
 104              	.LCFI4:
 105              		.cfi_def_cfa_offset 8
 106              		.cfi_offset 7, -8
 107              		.cfi_offset 14, -4
 108 0002 00AF     		add	r7, sp, #0
 109              	.LCFI5:
 110              		.cfi_def_cfa_register 7
  23:hardware/src/exti.c **** 	delay_ms(15);	//Ïû¶¶
 111              		.loc 1 23 2
 112 0004 0F20     		movs	r0, #15
 113 0006 FFF7FEFF 		bl	delay_ms
  24:hardware/src/exti.c ****   KEY0_PUSH = 1;
 114              		.loc 1 24 13
 115 000a 054B     		ldr	r3, .L4
 116 000c 0122     		movs	r2, #1
 117 000e 1A70     		strb	r2, [r3]
  25:hardware/src/exti.c ****   printf("push key 0!\r\n");
 118              		.loc 1 25 3
 119 0010 0448     		ldr	r0, .L4+4
 120 0012 FFF7FEFF 		bl	puts
  26:hardware/src/exti.c **** 	EXTI_ClearITPendingBit(EXTI_Line3);  //Çå³ýEXTI0ÏßÂ·¹ÒÆðÎ»
 121              		.loc 1 26 2
 122 0016 0820     		movs	r0, #8
 123 0018 FFF7FEFF 		bl	EXTI_ClearITPendingBit
  27:hardware/src/exti.c **** }
 124              		.loc 1 27 1
 125 001c 00BF     		nop
 126 001e 80BD     		pop	{r7, pc}
 127              	.L5:
 128              		.align	2
 129              	.L4:
 130 0020 00000000 		.word	KEY0_PUSH
 131 0024 00000000 		.word	.LC0
 132              		.cfi_endproc
 133              	.LFE65:
 135              		.section	.text.EXTI3_Init,"ax",%progbits
 136              		.align	1
 137              		.global	EXTI3_Init
 138              		.syntax unified
 139              		.thumb
 140              		.thumb_func
 141              		.fpu softvfp
 143              	EXTI3_Init:
 144              	.LFB66:
  28:hardware/src/exti.c **** void EXTI3_Init(void)
  29:hardware/src/exti.c **** {
 145              		.loc 1 29 1
 146              		.cfi_startproc
ARM GAS  /tmp/ccljlI7X.s 			page 4


 147              		@ args = 0, pretend = 0, frame = 16
 148              		@ frame_needed = 1, uses_anonymous_args = 0
 149 0000 80B5     		push	{r7, lr}
 150              	.LCFI6:
 151              		.cfi_def_cfa_offset 8
 152              		.cfi_offset 7, -8
 153              		.cfi_offset 14, -4
 154 0002 84B0     		sub	sp, sp, #16
 155              	.LCFI7:
 156              		.cfi_def_cfa_offset 24
 157 0004 00AF     		add	r7, sp, #0
 158              	.LCFI8:
 159              		.cfi_def_cfa_register 7
  30:hardware/src/exti.c ****  //GPIOE.3	  ÖÐ¶ÏÏßÒÔ¼°ÖÐ¶Ï³õÊ¼»¯ÅäÖÃ ÏÂ½µÑØ´¥·¢
  31:hardware/src/exti.c ****   EXTI_InitTypeDef EXTI_InitStructure;
  32:hardware/src/exti.c ****  	NVIC_InitTypeDef NVIC_InitStructure;
  33:hardware/src/exti.c **** 
  34:hardware/src/exti.c ****   GPIO_EXTILineConfig(GPIO_PortSourceGPIOE,GPIO_PinSource3);
 160              		.loc 1 34 3
 161 0006 0321     		movs	r1, #3
 162 0008 0420     		movs	r0, #4
 163 000a FFF7FEFF 		bl	GPIO_EXTILineConfig
  35:hardware/src/exti.c **** 
  36:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_Line=EXTI_Line3;
 164              		.loc 1 36 31
 165 000e 0823     		movs	r3, #8
 166 0010 BB60     		str	r3, [r7, #8]
  37:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;	
 167              		.loc 1 37 32
 168 0012 0023     		movs	r3, #0
 169 0014 3B73     		strb	r3, [r7, #12]
  38:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Falling;
 170              		.loc 1 38 35
 171 0016 0C23     		movs	r3, #12
 172 0018 7B73     		strb	r3, [r7, #13]
  39:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_LineCmd = ENABLE;
 173              		.loc 1 39 35
 174 001a 0123     		movs	r3, #1
 175 001c BB73     		strb	r3, [r7, #14]
  40:hardware/src/exti.c ****   EXTI_Init(&EXTI_InitStructure);	  	//¸ù¾ÝEXTI_InitStructÖÐÖ¸¶¨µÄ²ÎÊý³õÊ¼»¯ÍâÉèEXTI¼Ä´æÆ÷
 176              		.loc 1 40 3
 177 001e 07F10803 		add	r3, r7, #8
 178 0022 1846     		mov	r0, r3
 179 0024 FFF7FEFF 		bl	EXTI_Init
  41:hardware/src/exti.c **** 
  42:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannel = EXTI3_IRQn;			//Ê¹ÄÜ°´¼üËùÔÚµÄÍâ²¿ÖÐ¶ÏÍ¨µÀ
 180              		.loc 1 42 38
 181 0028 0923     		movs	r3, #9
 182 002a 3B71     		strb	r3, [r7, #4]
  43:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0x02;	//ÇÀÕ¼ÓÅÏÈ¼¶2 
 183              		.loc 1 43 56
 184 002c 0223     		movs	r3, #2
 185 002e 7B71     		strb	r3, [r7, #5]
  44:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0x01;					//×ÓÓÅÏÈ¼¶1 
 186              		.loc 1 44 49
 187 0030 0123     		movs	r3, #1
 188 0032 BB71     		strb	r3, [r7, #6]
ARM GAS  /tmp/ccljlI7X.s 			page 5


  45:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;								//Ê¹ÄÜÍâ²¿ÖÐ¶ÏÍ¨µÀ
 189              		.loc 1 45 41
 190 0034 0123     		movs	r3, #1
 191 0036 FB71     		strb	r3, [r7, #7]
  46:hardware/src/exti.c ****   NVIC_Init(&NVIC_InitStructure);  	  //¸ù¾ÝNVIC_InitStructÖÐÖ¸¶¨µÄ²ÎÊý³õÊ¼»¯ÍâÉèNVIC¼Ä´æÆ÷
 192              		.loc 1 46 3
 193 0038 3B1D     		adds	r3, r7, #4
 194 003a 1846     		mov	r0, r3
 195 003c FFF7FEFF 		bl	NVIC_Init
  47:hardware/src/exti.c **** }
 196              		.loc 1 47 1
 197 0040 00BF     		nop
 198 0042 1037     		adds	r7, r7, #16
 199              	.LCFI9:
 200              		.cfi_def_cfa_offset 8
 201 0044 BD46     		mov	sp, r7
 202              	.LCFI10:
 203              		.cfi_def_cfa_register 13
 204              		@ sp needed
 205 0046 80BD     		pop	{r7, pc}
 206              		.cfi_endproc
 207              	.LFE66:
 209              		.section	.rodata
 210 000d 000000   		.align	2
 211              	.LC1:
 212 0010 70757368 		.ascii	"push key 1!\015\000"
 212      206B6579 
 212      2031210D 
 212      00
 213              		.section	.text.EXTI4_IRQHandler,"ax",%progbits
 214              		.align	1
 215              		.global	EXTI4_IRQHandler
 216              		.syntax unified
 217              		.thumb
 218              		.thumb_func
 219              		.fpu softvfp
 221              	EXTI4_IRQHandler:
 222              	.LFB67:
  48:hardware/src/exti.c **** //Íâ²¿ÖÐ¶Ï4·þÎñ³ÌÐò
  49:hardware/src/exti.c **** void EXTI4_IRQHandler(void)
  50:hardware/src/exti.c **** {
 223              		.loc 1 50 1
 224              		.cfi_startproc
 225              		@ args = 0, pretend = 0, frame = 0
 226              		@ frame_needed = 1, uses_anonymous_args = 0
 227 0000 80B5     		push	{r7, lr}
 228              	.LCFI11:
 229              		.cfi_def_cfa_offset 8
 230              		.cfi_offset 7, -8
 231              		.cfi_offset 14, -4
 232 0002 00AF     		add	r7, sp, #0
 233              	.LCFI12:
 234              		.cfi_def_cfa_register 7
  51:hardware/src/exti.c **** 	delay_ms(15);	//Ïû¶¶
 235              		.loc 1 51 2
 236 0004 0F20     		movs	r0, #15
 237 0006 FFF7FEFF 		bl	delay_ms
ARM GAS  /tmp/ccljlI7X.s 			page 6


  52:hardware/src/exti.c ****   KEY1_PUSH = 1;
 238              		.loc 1 52 13
 239 000a 054B     		ldr	r3, .L8
 240 000c 0122     		movs	r2, #1
 241 000e 1A70     		strb	r2, [r3]
  53:hardware/src/exti.c ****   printf("push key 1!\r\n");
 242              		.loc 1 53 3
 243 0010 0448     		ldr	r0, .L8+4
 244 0012 FFF7FEFF 		bl	puts
  54:hardware/src/exti.c ****   // JumpToISP();
  55:hardware/src/exti.c **** 	EXTI_ClearITPendingBit(EXTI_Line4);  //Çå³ýEXTI0ÏßÂ·¹ÒÆðÎ»
 245              		.loc 1 55 2
 246 0016 1020     		movs	r0, #16
 247 0018 FFF7FEFF 		bl	EXTI_ClearITPendingBit
  56:hardware/src/exti.c **** }		   
 248              		.loc 1 56 1
 249 001c 00BF     		nop
 250 001e 80BD     		pop	{r7, pc}
 251              	.L9:
 252              		.align	2
 253              	.L8:
 254 0020 00000000 		.word	KEY1_PUSH
 255 0024 10000000 		.word	.LC1
 256              		.cfi_endproc
 257              	.LFE67:
 259              		.section	.text.EXTI4_Init,"ax",%progbits
 260              		.align	1
 261              		.global	EXTI4_Init
 262              		.syntax unified
 263              		.thumb
 264              		.thumb_func
 265              		.fpu softvfp
 267              	EXTI4_Init:
 268              	.LFB68:
  57:hardware/src/exti.c **** 
  58:hardware/src/exti.c **** void EXTI4_Init(void)
  59:hardware/src/exti.c **** {
 269              		.loc 1 59 1
 270              		.cfi_startproc
 271              		@ args = 0, pretend = 0, frame = 16
 272              		@ frame_needed = 1, uses_anonymous_args = 0
 273 0000 80B5     		push	{r7, lr}
 274              	.LCFI13:
 275              		.cfi_def_cfa_offset 8
 276              		.cfi_offset 7, -8
 277              		.cfi_offset 14, -4
 278 0002 84B0     		sub	sp, sp, #16
 279              	.LCFI14:
 280              		.cfi_def_cfa_offset 24
 281 0004 00AF     		add	r7, sp, #0
 282              	.LCFI15:
 283              		.cfi_def_cfa_register 7
  60:hardware/src/exti.c ****   EXTI_InitTypeDef EXTI_InitStructure;
  61:hardware/src/exti.c ****  	NVIC_InitTypeDef NVIC_InitStructure;
  62:hardware/src/exti.c **** 
  63:hardware/src/exti.c ****   GPIO_EXTILineConfig(GPIO_PortSourceGPIOE,GPIO_PinSource4);
 284              		.loc 1 63 3
ARM GAS  /tmp/ccljlI7X.s 			page 7


 285 0006 0421     		movs	r1, #4
 286 0008 0420     		movs	r0, #4
 287 000a FFF7FEFF 		bl	GPIO_EXTILineConfig
  64:hardware/src/exti.c **** 
  65:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_Line=EXTI_Line4;
 288              		.loc 1 65 31
 289 000e 1023     		movs	r3, #16
 290 0010 BB60     		str	r3, [r7, #8]
  66:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;	
 291              		.loc 1 66 32
 292 0012 0023     		movs	r3, #0
 293 0014 3B73     		strb	r3, [r7, #12]
  67:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Falling;
 294              		.loc 1 67 35
 295 0016 0C23     		movs	r3, #12
 296 0018 7B73     		strb	r3, [r7, #13]
  68:hardware/src/exti.c ****   // EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Rising;
  69:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_LineCmd = ENABLE;
 297              		.loc 1 69 35
 298 001a 0123     		movs	r3, #1
 299 001c BB73     		strb	r3, [r7, #14]
  70:hardware/src/exti.c ****   EXTI_Init(&EXTI_InitStructure);	  	//¸ù¾ÝEXTI_InitStructÖÐÖ¸¶¨µÄ²ÎÊý³õÊ¼»¯ÍâÉèEXTI¼Ä´æÆ÷
 300              		.loc 1 70 3
 301 001e 07F10803 		add	r3, r7, #8
 302 0022 1846     		mov	r0, r3
 303 0024 FFF7FEFF 		bl	EXTI_Init
  71:hardware/src/exti.c **** 
  72:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannel = EXTI4_IRQn;			//Ê¹ÄÜ°´¼üËùÔÚµÄÍâ²¿ÖÐ¶ÏÍ¨µÀ
 304              		.loc 1 72 38
 305 0028 0A23     		movs	r3, #10
 306 002a 3B71     		strb	r3, [r7, #4]
  73:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0x02;	//ÇÀÕ¼ÓÅÏÈ¼¶2 
 307              		.loc 1 73 56
 308 002c 0223     		movs	r3, #2
 309 002e 7B71     		strb	r3, [r7, #5]
  74:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0x00;					//×ÓÓÅÏÈ¼¶0 
 310              		.loc 1 74 49
 311 0030 0023     		movs	r3, #0
 312 0032 BB71     		strb	r3, [r7, #6]
  75:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;								//Ê¹ÄÜÍâ²¿ÖÐ¶ÏÍ¨µÀ
 313              		.loc 1 75 41
 314 0034 0123     		movs	r3, #1
 315 0036 FB71     		strb	r3, [r7, #7]
  76:hardware/src/exti.c ****   NVIC_Init(&NVIC_InitStructure);  	  //¸ù¾ÝNVIC_InitStructÖÐÖ¸¶¨µÄ²ÎÊý³õÊ¼»¯ÍâÉèNVIC¼Ä´æÆ÷
 316              		.loc 1 76 3
 317 0038 3B1D     		adds	r3, r7, #4
 318 003a 1846     		mov	r0, r3
 319 003c FFF7FEFF 		bl	NVIC_Init
  77:hardware/src/exti.c **** }
 320              		.loc 1 77 1
 321 0040 00BF     		nop
 322 0042 1037     		adds	r7, r7, #16
 323              	.LCFI16:
 324              		.cfi_def_cfa_offset 8
 325 0044 BD46     		mov	sp, r7
 326              	.LCFI17:
 327              		.cfi_def_cfa_register 13
ARM GAS  /tmp/ccljlI7X.s 			page 8


 328              		@ sp needed
 329 0046 80BD     		pop	{r7, pc}
 330              		.cfi_endproc
 331              	.LFE68:
 333              		.section	.text.EXTIX_Init,"ax",%progbits
 334              		.align	1
 335              		.global	EXTIX_Init
 336              		.syntax unified
 337              		.thumb
 338              		.thumb_func
 339              		.fpu softvfp
 341              	EXTIX_Init:
 342              	.LFB69:
  78:hardware/src/exti.c **** //Íâ²¿ÖÐ¶Ï³õÊ¼»¯³ÌÐò
  79:hardware/src/exti.c **** //³õÊ¼»¯PA0/PE2/PE3/PE4ÎªÖÐ¶ÏÊäÈë.
  80:hardware/src/exti.c **** void EXTIX_Init(void)
  81:hardware/src/exti.c **** {
 343              		.loc 1 81 1
 344              		.cfi_startproc
 345              		@ args = 0, pretend = 0, frame = 16
 346              		@ frame_needed = 1, uses_anonymous_args = 0
 347 0000 80B5     		push	{r7, lr}
 348              	.LCFI18:
 349              		.cfi_def_cfa_offset 8
 350              		.cfi_offset 7, -8
 351              		.cfi_offset 14, -4
 352 0002 84B0     		sub	sp, sp, #16
 353              	.LCFI19:
 354              		.cfi_def_cfa_offset 24
 355 0004 00AF     		add	r7, sp, #0
 356              	.LCFI20:
 357              		.cfi_def_cfa_register 7
  82:hardware/src/exti.c **** 	EXTI_InitTypeDef EXTI_InitStructure;
  83:hardware/src/exti.c ****  	NVIC_InitTypeDef NVIC_InitStructure;
  84:hardware/src/exti.c **** 
  85:hardware/src/exti.c ****   //GPIOE.2 ÖÐ¶ÏÏßÒÔ¼°ÖÐ¶Ï³õÊ¼»¯ÅäÖÃ   ÏÂ½µÑØ´¥·¢
  86:hardware/src/exti.c ****   GPIO_EXTILineConfig(GPIO_PortSourceGPIOE,GPIO_PinSource2);
 358              		.loc 1 86 3
 359 0006 0221     		movs	r1, #2
 360 0008 0420     		movs	r0, #4
 361 000a FFF7FEFF 		bl	GPIO_EXTILineConfig
  87:hardware/src/exti.c **** 
  88:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_Line=EXTI_Line2;
 362              		.loc 1 88 31
 363 000e 0423     		movs	r3, #4
 364 0010 BB60     		str	r3, [r7, #8]
  89:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;	
 365              		.loc 1 89 32
 366 0012 0023     		movs	r3, #0
 367 0014 3B73     		strb	r3, [r7, #12]
  90:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Falling;
 368              		.loc 1 90 35
 369 0016 0C23     		movs	r3, #12
 370 0018 7B73     		strb	r3, [r7, #13]
  91:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_LineCmd = ENABLE;
 371              		.loc 1 91 35
 372 001a 0123     		movs	r3, #1
ARM GAS  /tmp/ccljlI7X.s 			page 9


 373 001c BB73     		strb	r3, [r7, #14]
  92:hardware/src/exti.c ****   EXTI_Init(&EXTI_InitStructure);	 	//¸ù¾ÝEXTI_InitStructÖÐÖ¸¶¨µÄ²ÎÊý³õÊ¼»¯ÍâÉèEXTI¼Ä´æÆ÷
 374              		.loc 1 92 3
 375 001e 07F10803 		add	r3, r7, #8
 376 0022 1846     		mov	r0, r3
 377 0024 FFF7FEFF 		bl	EXTI_Init
  93:hardware/src/exti.c **** 
  94:hardware/src/exti.c ****  //GPIOE.3	  ÖÐ¶ÏÏßÒÔ¼°ÖÐ¶Ï³õÊ¼»¯ÅäÖÃ ÏÂ½µÑØ´¥·¢
  95:hardware/src/exti.c ****   GPIO_EXTILineConfig(GPIO_PortSourceGPIOE,GPIO_PinSource3);
 378              		.loc 1 95 3
 379 0028 0321     		movs	r1, #3
 380 002a 0420     		movs	r0, #4
 381 002c FFF7FEFF 		bl	GPIO_EXTILineConfig
  96:hardware/src/exti.c **** 
  97:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_Line=EXTI_Line3;
 382              		.loc 1 97 31
 383 0030 0823     		movs	r3, #8
 384 0032 BB60     		str	r3, [r7, #8]
  98:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;	
 385              		.loc 1 98 32
 386 0034 0023     		movs	r3, #0
 387 0036 3B73     		strb	r3, [r7, #12]
  99:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Falling;
 388              		.loc 1 99 35
 389 0038 0C23     		movs	r3, #12
 390 003a 7B73     		strb	r3, [r7, #13]
 100:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_LineCmd = ENABLE;
 391              		.loc 1 100 35
 392 003c 0123     		movs	r3, #1
 393 003e BB73     		strb	r3, [r7, #14]
 101:hardware/src/exti.c ****   EXTI_Init(&EXTI_InitStructure);	  	//¸ù¾ÝEXTI_InitStructÖÐÖ¸¶¨µÄ²ÎÊý³õÊ¼»¯ÍâÉèEXTI¼Ä´æÆ÷
 394              		.loc 1 101 3
 395 0040 07F10803 		add	r3, r7, #8
 396 0044 1846     		mov	r0, r3
 397 0046 FFF7FEFF 		bl	EXTI_Init
 102:hardware/src/exti.c **** 
 103:hardware/src/exti.c ****  //GPIOE.4	  ÖÐ¶ÏÏßÒÔ¼°ÖÐ¶Ï³õÊ¼»¯ÅäÖÃ  ÏÂ½µÑØ´¥·¢
 104:hardware/src/exti.c ****   GPIO_EXTILineConfig(GPIO_PortSourceGPIOE,GPIO_PinSource4);
 398              		.loc 1 104 3
 399 004a 0421     		movs	r1, #4
 400 004c 0420     		movs	r0, #4
 401 004e FFF7FEFF 		bl	GPIO_EXTILineConfig
 105:hardware/src/exti.c **** 
 106:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_Line=EXTI_Line4;
 402              		.loc 1 106 31
 403 0052 1023     		movs	r3, #16
 404 0054 BB60     		str	r3, [r7, #8]
 107:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;	
 405              		.loc 1 107 32
 406 0056 0023     		movs	r3, #0
 407 0058 3B73     		strb	r3, [r7, #12]
 108:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Falling;
 408              		.loc 1 108 35
 409 005a 0C23     		movs	r3, #12
 410 005c 7B73     		strb	r3, [r7, #13]
 109:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_LineCmd = ENABLE;
 411              		.loc 1 109 35
ARM GAS  /tmp/ccljlI7X.s 			page 10


 412 005e 0123     		movs	r3, #1
 413 0060 BB73     		strb	r3, [r7, #14]
 110:hardware/src/exti.c ****   EXTI_Init(&EXTI_InitStructure);	  	//¸ù¾ÝEXTI_InitStructÖÐÖ¸¶¨µÄ²ÎÊý³õÊ¼»¯ÍâÉèEXTI¼Ä´æÆ÷
 414              		.loc 1 110 3
 415 0062 07F10803 		add	r3, r7, #8
 416 0066 1846     		mov	r0, r3
 417 0068 FFF7FEFF 		bl	EXTI_Init
 111:hardware/src/exti.c **** 
 112:hardware/src/exti.c ****   //GPIOA.0	  ÖÐ¶ÏÏßÒÔ¼°ÖÐ¶Ï³õÊ¼»¯ÅäÖÃ ÉÏÉýÑØ´¥·¢
 113:hardware/src/exti.c ****  	GPIO_EXTILineConfig(GPIO_PortSourceGPIOA,GPIO_PinSource0);
 418              		.loc 1 113 3
 419 006c 0021     		movs	r1, #0
 420 006e 0020     		movs	r0, #0
 421 0070 FFF7FEFF 		bl	GPIO_EXTILineConfig
 114:hardware/src/exti.c **** 
 115:hardware/src/exti.c ****  	EXTI_InitStructure.EXTI_Line=EXTI_Line0;
 422              		.loc 1 115 31
 423 0074 0123     		movs	r3, #1
 424 0076 BB60     		str	r3, [r7, #8]
 116:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;	
 425              		.loc 1 116 32
 426 0078 0023     		movs	r3, #0
 427 007a 3B73     		strb	r3, [r7, #12]
 117:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Rising;
 428              		.loc 1 117 35
 429 007c 0823     		movs	r3, #8
 430 007e 7B73     		strb	r3, [r7, #13]
 118:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_LineCmd = ENABLE;
 431              		.loc 1 118 35
 432 0080 0123     		movs	r3, #1
 433 0082 BB73     		strb	r3, [r7, #14]
 119:hardware/src/exti.c ****   EXTI_Init(&EXTI_InitStructure);		//¸ù¾ÝEXTI_InitStructÖÐÖ¸¶¨µÄ²ÎÊý³õÊ¼»¯ÍâÉèEXTI¼Ä´æÆ÷
 434              		.loc 1 119 3
 435 0084 07F10803 		add	r3, r7, #8
 436 0088 1846     		mov	r0, r3
 437 008a FFF7FEFF 		bl	EXTI_Init
 120:hardware/src/exti.c **** 
 121:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannel = EXTI0_IRQn;			//Ê¹ÄÜ°´¼üËùÔÚµÄÍâ²¿ÖÐ¶ÏÍ¨µÀ
 438              		.loc 1 121 38
 439 008e 0623     		movs	r3, #6
 440 0090 3B71     		strb	r3, [r7, #4]
 122:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0x02;	//ÇÀÕ¼ÓÅÏÈ¼¶2£¬ 
 441              		.loc 1 122 56
 442 0092 0223     		movs	r3, #2
 443 0094 7B71     		strb	r3, [r7, #5]
 123:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0x03;					//×ÓÓÅÏÈ¼¶3
 444              		.loc 1 123 49
 445 0096 0323     		movs	r3, #3
 446 0098 BB71     		strb	r3, [r7, #6]
 124:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;								//Ê¹ÄÜÍâ²¿ÖÐ¶ÏÍ¨µÀ
 447              		.loc 1 124 41
 448 009a 0123     		movs	r3, #1
 449 009c FB71     		strb	r3, [r7, #7]
 125:hardware/src/exti.c ****   NVIC_Init(&NVIC_InitStructure); 
 450              		.loc 1 125 3
 451 009e 3B1D     		adds	r3, r7, #4
 452 00a0 1846     		mov	r0, r3
ARM GAS  /tmp/ccljlI7X.s 			page 11


 453 00a2 FFF7FEFF 		bl	NVIC_Init
 126:hardware/src/exti.c **** 
 127:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannel = EXTI2_IRQn;			//Ê¹ÄÜ°´¼üËùÔÚµÄÍâ²¿ÖÐ¶ÏÍ¨µÀ
 454              		.loc 1 127 38
 455 00a6 0823     		movs	r3, #8
 456 00a8 3B71     		strb	r3, [r7, #4]
 128:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0x02;	//ÇÀÕ¼ÓÅÏÈ¼¶2£¬ 
 457              		.loc 1 128 56
 458 00aa 0223     		movs	r3, #2
 459 00ac 7B71     		strb	r3, [r7, #5]
 129:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0x02;					//×ÓÓÅÏÈ¼¶2
 460              		.loc 1 129 49
 461 00ae 0223     		movs	r3, #2
 462 00b0 BB71     		strb	r3, [r7, #6]
 130:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;								//Ê¹ÄÜÍâ²¿ÖÐ¶ÏÍ¨µÀ
 463              		.loc 1 130 41
 464 00b2 0123     		movs	r3, #1
 465 00b4 FB71     		strb	r3, [r7, #7]
 131:hardware/src/exti.c ****   NVIC_Init(&NVIC_InitStructure);
 466              		.loc 1 131 3
 467 00b6 3B1D     		adds	r3, r7, #4
 468 00b8 1846     		mov	r0, r3
 469 00ba FFF7FEFF 		bl	NVIC_Init
 132:hardware/src/exti.c **** 
 133:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannel = EXTI3_IRQn;			//Ê¹ÄÜ°´¼üËùÔÚµÄÍâ²¿ÖÐ¶ÏÍ¨µÀ
 470              		.loc 1 133 38
 471 00be 0923     		movs	r3, #9
 472 00c0 3B71     		strb	r3, [r7, #4]
 134:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0x02;	//ÇÀÕ¼ÓÅÏÈ¼¶2 
 473              		.loc 1 134 56
 474 00c2 0223     		movs	r3, #2
 475 00c4 7B71     		strb	r3, [r7, #5]
 135:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0x01;					//×ÓÓÅÏÈ¼¶1 
 476              		.loc 1 135 49
 477 00c6 0123     		movs	r3, #1
 478 00c8 BB71     		strb	r3, [r7, #6]
 136:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;								//Ê¹ÄÜÍâ²¿ÖÐ¶ÏÍ¨µÀ
 479              		.loc 1 136 41
 480 00ca 0123     		movs	r3, #1
 481 00cc FB71     		strb	r3, [r7, #7]
 137:hardware/src/exti.c ****   NVIC_Init(&NVIC_InitStructure);  	  //¸ù¾ÝNVIC_InitStructÖÐÖ¸¶¨µÄ²ÎÊý³õÊ¼»¯ÍâÉèNVIC¼Ä´æÆ÷
 482              		.loc 1 137 3
 483 00ce 3B1D     		adds	r3, r7, #4
 484 00d0 1846     		mov	r0, r3
 485 00d2 FFF7FEFF 		bl	NVIC_Init
 138:hardware/src/exti.c **** 
 139:hardware/src/exti.c **** 	NVIC_InitStructure.NVIC_IRQChannel = EXTI4_IRQn;			//Ê¹ÄÜ°´¼üËùÔÚµÄÍâ²¿ÖÐ¶ÏÍ¨µÀ
 486              		.loc 1 139 37
 487 00d6 0A23     		movs	r3, #10
 488 00d8 3B71     		strb	r3, [r7, #4]
 140:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0x02;	//ÇÀÕ¼ÓÅÏÈ¼¶2 
 489              		.loc 1 140 56
 490 00da 0223     		movs	r3, #2
 491 00dc 7B71     		strb	r3, [r7, #5]
 141:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0x00;					//×ÓÓÅÏÈ¼¶0 
 492              		.loc 1 141 49
 493 00de 0023     		movs	r3, #0
ARM GAS  /tmp/ccljlI7X.s 			page 12


 494 00e0 BB71     		strb	r3, [r7, #6]
 142:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;								//Ê¹ÄÜÍâ²¿ÖÐ¶ÏÍ¨µÀ
 495              		.loc 1 142 41
 496 00e2 0123     		movs	r3, #1
 497 00e4 FB71     		strb	r3, [r7, #7]
 143:hardware/src/exti.c ****   NVIC_Init(&NVIC_InitStructure);  	  //¸ù¾ÝNVIC_InitStructÖÐÖ¸¶¨µÄ²ÎÊý³õÊ¼»¯ÍâÉèNVIC¼Ä´æÆ÷
 498              		.loc 1 143 3
 499 00e6 3B1D     		adds	r3, r7, #4
 500 00e8 1846     		mov	r0, r3
 501 00ea FFF7FEFF 		bl	NVIC_Init
 144:hardware/src/exti.c **** }
 502              		.loc 1 144 1
 503 00ee 00BF     		nop
 504 00f0 1037     		adds	r7, r7, #16
 505              	.LCFI21:
 506              		.cfi_def_cfa_offset 8
 507 00f2 BD46     		mov	sp, r7
 508              	.LCFI22:
 509              		.cfi_def_cfa_register 13
 510              		@ sp needed
 511 00f4 80BD     		pop	{r7, pc}
 512              		.cfi_endproc
 513              	.LFE69:
 515              		.global	ov_sta
 516              		.section	.bss.ov_sta,"aw",%nobits
 519              	ov_sta:
 520 0000 00       		.space	1
 521              		.section	.text.EXTI15_10_IRQHandler,"ax",%progbits
 522              		.align	1
 523              		.global	EXTI15_10_IRQHandler
 524              		.syntax unified
 525              		.thumb
 526              		.thumb_func
 527              		.fpu softvfp
 529              	EXTI15_10_IRQHandler:
 530              	.LFB70:
 145:hardware/src/exti.c **** u8 ov_sta;	//Ö¡ÖÐ¶Ï±ê¼Ç
 146:hardware/src/exti.c ****  //Íâ²¿ÖÐ¶Ï5~9·þÎñ³ÌÐò
 147:hardware/src/exti.c **** void EXTI15_10_IRQHandler(void)
 148:hardware/src/exti.c **** {		 		
 531              		.loc 1 148 1
 532              		.cfi_startproc
 533              		@ args = 0, pretend = 0, frame = 0
 534              		@ frame_needed = 1, uses_anonymous_args = 0
 535 0000 80B5     		push	{r7, lr}
 536              	.LCFI23:
 537              		.cfi_def_cfa_offset 8
 538              		.cfi_offset 7, -8
 539              		.cfi_offset 14, -4
 540 0002 00AF     		add	r7, sp, #0
 541              	.LCFI24:
 542              		.cfi_def_cfa_register 7
 149:hardware/src/exti.c **** 	if(EXTI_GetITStatus(EXTI_Line12)==SET)//ÊÇ8ÏßµÄÖÐ¶Ï
 543              		.loc 1 149 5
 544 0004 4FF48050 		mov	r0, #4096
 545 0008 FFF7FEFF 		bl	EXTI_GetITStatus
 546 000c 0346     		mov	r3, r0
ARM GAS  /tmp/ccljlI7X.s 			page 13


 547              		.loc 1 149 4
 548 000e 012B     		cmp	r3, #1
 549 0010 20D1     		bne	.L13
 150:hardware/src/exti.c **** 	{     
 151:hardware/src/exti.c **** 		if(ov_sta<2)
 550              		.loc 1 151 12
 551 0012 134B     		ldr	r3, .L16
 552 0014 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 553              		.loc 1 151 5
 554 0016 012B     		cmp	r3, #1
 555 0018 1CD8     		bhi	.L13
 152:hardware/src/exti.c **** 		{
 153:hardware/src/exti.c **** 			if(ov_sta==0)
 556              		.loc 1 153 13
 557 001a 114B     		ldr	r3, .L16
 558 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 559              		.loc 1 153 6
 560 001e 002B     		cmp	r3, #0
 561 0020 09D1     		bne	.L14
 154:hardware/src/exti.c **** 			{
 155:hardware/src/exti.c **** 				OV7670_WRST=0;	 	//¸´Î»Ð´Ö¸Õë		  		 
 562              		.loc 1 155 5
 563 0022 104B     		ldr	r3, .L16+4
 564              		.loc 1 155 16
 565 0024 0022     		movs	r2, #0
 566 0026 1A60     		str	r2, [r3]
 156:hardware/src/exti.c **** 				OV7670_WRST=1;	
 567              		.loc 1 156 5
 568 0028 0E4B     		ldr	r3, .L16+4
 569              		.loc 1 156 16
 570 002a 0122     		movs	r2, #1
 571 002c 1A60     		str	r2, [r3]
 157:hardware/src/exti.c **** 				OV7670_WREN=1;		//ÔÊÐíÐ´ÈëFIFO
 572              		.loc 1 157 5
 573 002e 0E4B     		ldr	r3, .L16+8
 574              		.loc 1 157 16
 575 0030 0122     		movs	r2, #1
 576 0032 1A60     		str	r2, [r3]
 577 0034 08E0     		b	.L15
 578              	.L14:
 158:hardware/src/exti.c **** 			}else 
 159:hardware/src/exti.c **** 			{
 160:hardware/src/exti.c **** 				OV7670_WREN=0;		//½ûÖ¹Ð´ÈëFIFO 
 579              		.loc 1 160 5
 580 0036 0C4B     		ldr	r3, .L16+8
 581              		.loc 1 160 16
 582 0038 0022     		movs	r2, #0
 583 003a 1A60     		str	r2, [r3]
 161:hardware/src/exti.c **** 				OV7670_WRST=0;	 	//¸´Î»Ð´Ö¸Õë		  		 
 584              		.loc 1 161 5
 585 003c 094B     		ldr	r3, .L16+4
 586              		.loc 1 161 16
 587 003e 0022     		movs	r2, #0
 588 0040 1A60     		str	r2, [r3]
 162:hardware/src/exti.c **** 				OV7670_WRST=1;	
 589              		.loc 1 162 5
 590 0042 084B     		ldr	r3, .L16+4
ARM GAS  /tmp/ccljlI7X.s 			page 14


 591              		.loc 1 162 16
 592 0044 0122     		movs	r2, #1
 593 0046 1A60     		str	r2, [r3]
 594              	.L15:
 163:hardware/src/exti.c **** 			}
 164:hardware/src/exti.c **** 			ov_sta++;
 595              		.loc 1 164 10
 596 0048 054B     		ldr	r3, .L16
 597 004a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 598 004c 0133     		adds	r3, r3, #1
 599 004e DAB2     		uxtb	r2, r3
 600 0050 034B     		ldr	r3, .L16
 601 0052 1A70     		strb	r2, [r3]
 602              	.L13:
 165:hardware/src/exti.c **** 		}
 166:hardware/src/exti.c **** 	}
 167:hardware/src/exti.c **** 	EXTI_ClearITPendingBit(EXTI_Line12);  //Çå³ýEXTI8ÏßÂ·¹ÒÆðÎ»						  
 603              		.loc 1 167 2
 604 0054 4FF48050 		mov	r0, #4096
 605 0058 FFF7FEFF 		bl	EXTI_ClearITPendingBit
 168:hardware/src/exti.c **** } 
 606              		.loc 1 168 1
 607 005c 00BF     		nop
 608 005e 80BD     		pop	{r7, pc}
 609              	.L17:
 610              		.align	2
 611              	.L16:
 612 0060 00000000 		.word	ov_sta
 613 0064 84012342 		.word	1109590404
 614 0068 8C012342 		.word	1109590412
 615              		.cfi_endproc
 616              	.LFE70:
 618              		.section	.text.EXTI11_Init,"ax",%progbits
 619              		.align	1
 620              		.global	EXTI11_Init
 621              		.syntax unified
 622              		.thumb
 623              		.thumb_func
 624              		.fpu softvfp
 626              	EXTI11_Init:
 627              	.LFB71:
 169:hardware/src/exti.c **** 
 170:hardware/src/exti.c **** //Íâ²¿ÖÐ¶Ï8³õÊ¼»¯
 171:hardware/src/exti.c **** void EXTI11_Init(void)
 172:hardware/src/exti.c **** {												  
 628              		.loc 1 172 1
 629              		.cfi_startproc
 630              		@ args = 0, pretend = 0, frame = 16
 631              		@ frame_needed = 1, uses_anonymous_args = 0
 632 0000 80B5     		push	{r7, lr}
 633              	.LCFI25:
 634              		.cfi_def_cfa_offset 8
 635              		.cfi_offset 7, -8
 636              		.cfi_offset 14, -4
 637 0002 84B0     		sub	sp, sp, #16
 638              	.LCFI26:
 639              		.cfi_def_cfa_offset 24
ARM GAS  /tmp/ccljlI7X.s 			page 15


 640 0004 00AF     		add	r7, sp, #0
 641              	.LCFI27:
 642              		.cfi_def_cfa_register 7
 173:hardware/src/exti.c **** 	EXTI_InitTypeDef EXTI_InitStructure;
 174:hardware/src/exti.c **** 	NVIC_InitTypeDef NVIC_InitStructure;
 175:hardware/src/exti.c **** 	
 176:hardware/src/exti.c ****   GPIO_EXTILineConfig(GPIO_PortSourceGPIOC,GPIO_PinSource12);//PA8¶ÔÖÐ¶ÏÏß8
 643              		.loc 1 176 3
 644 0006 0C21     		movs	r1, #12
 645 0008 0220     		movs	r0, #2
 646 000a FFF7FEFF 		bl	GPIO_EXTILineConfig
 177:hardware/src/exti.c ****  	   	 
 178:hardware/src/exti.c **** 	EXTI_InitStructure.EXTI_Line=EXTI_Line12;
 647              		.loc 1 178 30
 648 000e 4FF48053 		mov	r3, #4096
 649 0012 BB60     		str	r3, [r7, #8]
 179:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_Mode = EXTI_Mode_Interrupt;	
 650              		.loc 1 179 32
 651 0014 0023     		movs	r3, #0
 652 0016 3B73     		strb	r3, [r7, #12]
 180:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_Trigger = EXTI_Trigger_Rising;
 653              		.loc 1 180 35
 654 0018 0823     		movs	r3, #8
 655 001a 7B73     		strb	r3, [r7, #13]
 181:hardware/src/exti.c ****   EXTI_InitStructure.EXTI_LineCmd = ENABLE;
 656              		.loc 1 181 35
 657 001c 0123     		movs	r3, #1
 658 001e BB73     		strb	r3, [r7, #14]
 182:hardware/src/exti.c ****   EXTI_Init(&EXTI_InitStructure);		//¸ù¾ÝEXTI_InitStructÖÐÖ¸¶¨µÄ²ÎÊý³õÊ¼»¯ÍâÉèEXTI¼Ä´æÆ÷
 659              		.loc 1 182 3
 660 0020 07F10803 		add	r3, r7, #8
 661 0024 1846     		mov	r0, r3
 662 0026 FFF7FEFF 		bl	EXTI_Init
 183:hardware/src/exti.c **** 	
 184:hardware/src/exti.c **** 	NVIC_InitStructure.NVIC_IRQChannel = EXTI15_10_IRQn;			//Ê¹ÄÜ°´¼üËùÔÚµÄÍâ²¿ÖÐ¶ÏÍ¨µÀ
 663              		.loc 1 184 37
 664 002a 2823     		movs	r3, #40
 665 002c 3B71     		strb	r3, [r7, #4]
 185:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = 0;	//ÇÀÕ¼ÓÅÏÈ¼¶0 
 666              		.loc 1 185 56
 667 002e 0023     		movs	r3, #0
 668 0030 7B71     		strb	r3, [r7, #5]
 186:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelSubPriority = 0;					//×ÓÓÅÏÈ¼¶0 
 669              		.loc 1 186 49
 670 0032 0023     		movs	r3, #0
 671 0034 BB71     		strb	r3, [r7, #6]
 187:hardware/src/exti.c ****   NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;								//Ê¹ÄÜÍâ²¿ÖÐ¶ÏÍ¨µÀ
 672              		.loc 1 187 41
 673 0036 0123     		movs	r3, #1
 674 0038 FB71     		strb	r3, [r7, #7]
 188:hardware/src/exti.c ****   NVIC_Init(&NVIC_InitStructure);  	  //¸ù¾ÝNVIC_InitStructÖÐÖ¸¶¨µÄ²ÎÊý³õÊ¼»¯ÍâÉèNVIC¼Ä´æÆ÷   
 675              		.loc 1 188 3
 676 003a 3B1D     		adds	r3, r7, #4
 677 003c 1846     		mov	r0, r3
 678 003e FFF7FEFF 		bl	NVIC_Init
 189:hardware/src/exti.c **** }
 679              		.loc 1 189 1
ARM GAS  /tmp/ccljlI7X.s 			page 16


 680 0042 00BF     		nop
 681 0044 1037     		adds	r7, r7, #16
 682              	.LCFI28:
 683              		.cfi_def_cfa_offset 8
 684 0046 BD46     		mov	sp, r7
 685              	.LCFI29:
 686              		.cfi_def_cfa_register 13
 687              		@ sp needed
 688 0048 80BD     		pop	{r7, pc}
 689              		.cfi_endproc
 690              	.LFE71:
 692              		.section	.rodata
 693 001d 000000   		.align	2
 694              	.LC2:
 695 0020 0D0A4A75 		.ascii	"\015\012Jumping to ISP...\000"
 695      6D70696E 
 695      6720746F 
 695      20495350 
 695      2E2E2E00 
 696              		.section	.text.JumpToISP,"ax",%progbits
 697              		.align	1
 698              		.global	JumpToISP
 699              		.syntax unified
 700              		.thumb
 701              		.thumb_func
 702              		.fpu softvfp
 704              	JumpToISP:
 705              	.LFB72:
 190:hardware/src/exti.c **** 
 191:hardware/src/exti.c **** #define ISPAddress 0x1FFFF000 
 192:hardware/src/exti.c **** //IAP¼¼ÊõÔ­Àí.pdf
 193:hardware/src/exti.c **** void JumpToISP(void)
 194:hardware/src/exti.c **** {
 706              		.loc 1 194 1
 707              		.cfi_startproc
 708              		@ args = 0, pretend = 0, frame = 16
 709              		@ frame_needed = 1, uses_anonymous_args = 0
 710 0000 80B5     		push	{r7, lr}
 711              	.LCFI30:
 712              		.cfi_def_cfa_offset 8
 713              		.cfi_offset 7, -8
 714              		.cfi_offset 14, -4
 715 0002 84B0     		sub	sp, sp, #16
 716              	.LCFI31:
 717              		.cfi_def_cfa_offset 24
 718 0004 00AF     		add	r7, sp, #0
 719              	.LCFI32:
 720              		.cfi_def_cfa_register 7
 195:hardware/src/exti.c ****     //³ÌÐòÌø×ª²»¸´Î»ÍâÉè£¬½¨Òé¶ÔÒ»Ð©¿ÉÄÜµ¼ÖÂÎÊÌâµÄÍâÉè½øÐÐ·´³õÊ¼»¯DeInit£¬ÈçSysTick¡£
 196:hardware/src/exti.c ****     //¿´ÃÅ¹·Ò»µ©³õÊ¼»¯²»ÄÜ±»¹Ø±Õ£¬Òò´ËÈç¹ûÊ¹ÓÃÁË¿´ÃÅ¹·£¬ÔòÔÚµ÷ÓÃ¸Ãº¯ÊýÇ°£¬±ØÐëÏÈ¸´Î»ÏµÍ³£¬²¢ÔÚ³õÊ¼»
 197:hardware/src/exti.c ****     uint32_t ispJumpAddr;//ISP³ÌÐòµÄÌø×ªµØÖ·£¬¼È³ÌÐòÈë¿Ú
 198:hardware/src/exti.c ****     uint32_t ispSpValue;//ISP³ÌÐòµÄSP³õÖµ£¬¼´Õ»Ö¸Õë
 199:hardware/src/exti.c ****     void (*Jump_To_ISP)(void);//¶¨ÒåÒ»¸öº¯ÊýÖ¸Õë
 200:hardware/src/exti.c **** 
 201:hardware/src/exti.c ****     printf("\r\nJumping to ISP...");
 721              		.loc 1 201 5
 722 0006 1248     		ldr	r0, .L22
ARM GAS  /tmp/ccljlI7X.s 			page 17


 723 0008 FFF7FEFF 		bl	printf
 202:hardware/src/exti.c ****     SysTick->CTRL=0x00;       //¹Ø±Õ¼ÆÊýÆ÷
 724              		.loc 1 202 12
 725 000c 114B     		ldr	r3, .L22+4
 726              		.loc 1 202 18
 727 000e 0022     		movs	r2, #0
 728 0010 1A60     		str	r2, [r3]
 203:hardware/src/exti.c ****     SysTick->VAL =0X00;       //Çå¿Õ¼ÆÊýÆ÷	
 729              		.loc 1 203 12
 730 0012 104B     		ldr	r3, .L22+4
 731              		.loc 1 203 18
 732 0014 0022     		movs	r2, #0
 733 0016 9A60     		str	r2, [r3, #8]
 204:hardware/src/exti.c **** //  __set_FAULTMASK(1);        //¹Ø±ÕËùÓÐÖÐ¶Ï
 205:hardware/src/exti.c **** //  __set_CONTROL(0);		  //½«PSPÖ¸ÕëÇÐ»»ÎªMSPÖ¸Õë£¬ÊÊÓÃÓÚAPPÊ¹ÓÃOSÇé¿ö
 206:hardware/src/exti.c **** 
 207:hardware/src/exti.c ****     if (((*(__IO uint32_t*)ISPAddress) & 0x2FFE0000 ) == 0x20000000)//SP->RAM,RAM => 0x20000000
 734              		.loc 1 207 11
 735 0018 0F4B     		ldr	r3, .L22+8
 736 001a 1A68     		ldr	r2, [r3]
 737              		.loc 1 207 40
 738 001c 0F4B     		ldr	r3, .L22+12
 739 001e 1340     		ands	r3, r3, r2
 740              		.loc 1 207 8
 741 0020 B3F1005F 		cmp	r3, #536870912
 742 0024 0FD1     		bne	.L21
 208:hardware/src/exti.c ****     { 
 209:hardware/src/exti.c ****         ispSpValue  = *(__IO uint32_t*)ISPAddress;
 743              		.loc 1 209 23
 744 0026 0C4B     		ldr	r3, .L22+8
 745              		.loc 1 209 21
 746 0028 1B68     		ldr	r3, [r3]
 747 002a FB60     		str	r3, [r7, #12]
 210:hardware/src/exti.c ****         ispJumpAddr = *(__IO uint32_t*)(ISPAddress+4);
 748              		.loc 1 210 23
 749 002c 0C4B     		ldr	r3, .L22+16
 750              		.loc 1 210 21
 751 002e 1B68     		ldr	r3, [r3]
 752 0030 BB60     		str	r3, [r7, #8]
 753 0032 FB68     		ldr	r3, [r7, #12]
 754 0034 3B60     		str	r3, [r7]
 755              	.LBB4:
 756              	.LBB5:
 757              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS Cortex-M Core Function/Instruction Header File
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V4.30
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     20. October 2015
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Copyright (c) 2009 - 2015 ARM LIMITED
   8:Drivers/CMSIS/Include/cmsis_gcc.h **** 
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****    All rights reserved.
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****    Redistribution and use in source and binary forms, with or without
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****    modification, are permitted provided that the following conditions are met:
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****    - Redistributions of source code must retain the above copyright
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****      notice, this list of conditions and the following disclaimer.
ARM GAS  /tmp/ccljlI7X.s 			page 18


  14:Drivers/CMSIS/Include/cmsis_gcc.h ****    - Redistributions in binary form must reproduce the above copyright
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****      notice, this list of conditions and the following disclaimer in the
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****      documentation and/or other materials provided with the distribution.
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****    - Neither the name of ARM nor the names of its contributors may be used
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****      to endorse or promote products derived from this software without
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****      specific prior written permission.
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****    *
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****    AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  24:Drivers/CMSIS/Include/cmsis_gcc.h ****    ARE DISCLAIMED. IN NO EVENT SHALL COPYRIGHT HOLDERS AND CONTRIBUTORS BE
  25:Drivers/CMSIS/Include/cmsis_gcc.h ****    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
  26:Drivers/CMSIS/Include/cmsis_gcc.h ****    CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
  27:Drivers/CMSIS/Include/cmsis_gcc.h ****    SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  28:Drivers/CMSIS/Include/cmsis_gcc.h ****    INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  29:Drivers/CMSIS/Include/cmsis_gcc.h ****    CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  30:Drivers/CMSIS/Include/cmsis_gcc.h ****    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  31:Drivers/CMSIS/Include/cmsis_gcc.h ****    POSSIBILITY OF SUCH DAMAGE.
  32:Drivers/CMSIS/Include/cmsis_gcc.h ****    ---------------------------------------------------------------------------*/
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  34:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  36:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** #if defined ( __GNUC__ )
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  41:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  44:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  47:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
  49:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
  51:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  53:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
  54:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
  55:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
  57:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE void __enable_irq(void)
  59:Drivers/CMSIS/Include/cmsis_gcc.h **** {
  60:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** }
  62:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
  66:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
  67:Drivers/CMSIS/Include/cmsis_gcc.h ****   Can only be executed in Privileged modes.
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE void __disable_irq(void)
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** {
ARM GAS  /tmp/ccljlI7X.s 			page 19


  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
  72:Drivers/CMSIS/Include/cmsis_gcc.h **** }
  73:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  74:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  75:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Control Register
  77:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the Control Register.
  78:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               Control Register value
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  80:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE uint32_t __get_CONTROL(void)
  81:Drivers/CMSIS/Include/cmsis_gcc.h **** {
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
  83:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control" : "=r" (result) );
  85:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** }
  87:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  88:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  89:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Control Register
  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Writes the given value to the Control Register.
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
  93:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE void __set_CONTROL(uint32_t control)
  95:Drivers/CMSIS/Include/cmsis_gcc.h **** {
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR control, %0" : : "r" (control) : "memory");
  97:Drivers/CMSIS/Include/cmsis_gcc.h **** }
  98:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  99:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 100:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 101:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get IPSR Register
 102:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the IPSR Register.
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               IPSR Register value
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 105:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE uint32_t __get_IPSR(void)
 106:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 108:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 109:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, ipsr" : "=r" (result) );
 110:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 111:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 112:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 113:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 114:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 115:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get APSR Register
 116:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the APSR Register.
 117:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               APSR Register value
 118:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 119:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE uint32_t __get_APSR(void)
 120:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 121:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 122:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 123:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, apsr" : "=r" (result) );
 124:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 125:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 126:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 127:Drivers/CMSIS/Include/cmsis_gcc.h **** 
ARM GAS  /tmp/ccljlI7X.s 			page 20


 128:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 129:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get xPSR Register
 130:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the content of the xPSR Register.
 131:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 132:Drivers/CMSIS/Include/cmsis_gcc.h ****     \return               xPSR Register value
 133:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 134:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE uint32_t __get_xPSR(void)
 135:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 136:Drivers/CMSIS/Include/cmsis_gcc.h ****   uint32_t result;
 137:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 138:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, xpsr" : "=r" (result) );
 139:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 141:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 142:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 143:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 144:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Process Stack Pointer
 145:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the Process Stack Pointer (PSP).
 146:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               PSP Register value
 147:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 148:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE uint32_t __get_PSP(void)
 149:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 150:Drivers/CMSIS/Include/cmsis_gcc.h ****   register uint32_t result;
 151:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 152:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, psp\n"  : "=r" (result) );
 153:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 154:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 155:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 156:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 157:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 158:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Process Stack Pointer
 159:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the Process Stack Pointer (PSP).
 160:Drivers/CMSIS/Include/cmsis_gcc.h ****   \param [in]    topOfProcStack  Process Stack Pointer value to set
 161:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 162:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE void __set_PSP(uint32_t topOfProcStack)
 163:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 164:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR psp, %0\n" : : "r" (topOfProcStack) : "sp");
 165:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 166:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 167:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 168:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 169:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Get Main Stack Pointer
 170:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Returns the current value of the Main Stack Pointer (MSP).
 171:Drivers/CMSIS/Include/cmsis_gcc.h ****   \return               MSP Register value
 172:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 173:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE uint32_t __get_MSP(void)
 174:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 175:Drivers/CMSIS/Include/cmsis_gcc.h ****   register uint32_t result;
 176:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 177:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, msp\n" : "=r" (result) );
 178:Drivers/CMSIS/Include/cmsis_gcc.h ****   return(result);
 179:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 180:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 181:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 182:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 183:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Set Main Stack Pointer
 184:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Assigns the given value to the Main Stack Pointer (MSP).
ARM GAS  /tmp/ccljlI7X.s 			page 21


 185:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 186:Drivers/CMSIS/Include/cmsis_gcc.h ****     \param [in]    topOfMainStack  Main Stack Pointer value to set
 187:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 188:Drivers/CMSIS/Include/cmsis_gcc.h **** __attribute__( ( always_inline ) ) __STATIC_INLINE void __set_MSP(uint32_t topOfMainStack)
 189:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 190:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("MSR msp, %0\n" : : "r" (topOfMainStack) : "sp");
 758              		.loc 2 190 3
 759 0036 3B68     		ldr	r3, [r7]
 760              		.syntax unified
 761              	@ 190 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
 762 0038 83F30888 		MSR msp, r3
 763              	
 764              	@ 0 "" 2
 191:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 765              		.loc 2 191 1
 766              		.thumb
 767              		.syntax unified
 768 003c 00BF     		nop
 769              	.LBE5:
 770              	.LBE4:
 211:hardware/src/exti.c ****         
 212:hardware/src/exti.c **** 
 213:hardware/src/exti.c ****         /* ³õÊ¼»¯ Stack Pointer */
 214:hardware/src/exti.c ****         __set_MSP(ispSpValue);
 215:hardware/src/exti.c **** 
 216:hardware/src/exti.c ****         /* Jump to isp */
 217:hardware/src/exti.c ****         Jump_To_ISP = (void (*)(void))ispJumpAddr;
 771              		.loc 1 217 21
 772 003e BB68     		ldr	r3, [r7, #8]
 773 0040 7B60     		str	r3, [r7, #4]
 218:hardware/src/exti.c ****         Jump_To_ISP();
 774              		.loc 1 218 9
 775 0042 7B68     		ldr	r3, [r7, #4]
 776 0044 9847     		blx	r3
 777              	.LVL0:
 778              	.L21:
 219:hardware/src/exti.c ****     }
 220:hardware/src/exti.c **** }
 779              		.loc 1 220 1
 780 0046 00BF     		nop
 781 0048 1037     		adds	r7, r7, #16
 782              	.LCFI33:
 783              		.cfi_def_cfa_offset 8
 784 004a BD46     		mov	sp, r7
 785              	.LCFI34:
 786              		.cfi_def_cfa_register 13
 787              		@ sp needed
 788 004c 80BD     		pop	{r7, pc}
 789              	.L23:
 790 004e 00BF     		.align	2
 791              	.L22:
 792 0050 20000000 		.word	.LC2
 793 0054 10E000E0 		.word	-536813552
 794 0058 00F0FF1F 		.word	536866816
 795 005c 0000FE2F 		.word	805175296
 796 0060 04F0FF1F 		.word	536866820
 797              		.cfi_endproc
ARM GAS  /tmp/ccljlI7X.s 			page 22


 798              	.LFE72:
 800              		.text
 801              	.Letext0:
 802              		.file 3 "/home/ubuntu/tools/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/machine/_defa
 803              		.file 4 "/home/ubuntu/tools/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys/_stdint.h
 804              		.file 5 "Drivers/CMSIS/Include/core_cm3.h"
 805              		.file 6 "Inc/stm32f10x.h"
 806              		.file 7 "Drivers/Inc/stm32f10x_exti.h"
 807              		.file 8 "Drivers/Inc/misc.h"
 808              		.file 9 "<built-in>"
ARM GAS  /tmp/ccljlI7X.s 			page 23


DEFINED SYMBOLS
                            *ABS*:0000000000000000 exti.c
     /tmp/ccljlI7X.s:16     .text.EXTI0_IRQHandler:0000000000000000 $t
     /tmp/ccljlI7X.s:24     .text.EXTI0_IRQHandler:0000000000000000 EXTI0_IRQHandler
     /tmp/ccljlI7X.s:52     .text.EXTI2_IRQHandler:0000000000000000 $t
     /tmp/ccljlI7X.s:59     .text.EXTI2_IRQHandler:0000000000000000 EXTI2_IRQHandler
     /tmp/ccljlI7X.s:86     .rodata:0000000000000000 $d
     /tmp/ccljlI7X.s:90     .text.EXTI3_IRQHandler:0000000000000000 $t
     /tmp/ccljlI7X.s:97     .text.EXTI3_IRQHandler:0000000000000000 EXTI3_IRQHandler
     /tmp/ccljlI7X.s:130    .text.EXTI3_IRQHandler:0000000000000020 $d
     /tmp/ccljlI7X.s:136    .text.EXTI3_Init:0000000000000000 $t
     /tmp/ccljlI7X.s:143    .text.EXTI3_Init:0000000000000000 EXTI3_Init
     /tmp/ccljlI7X.s:214    .text.EXTI4_IRQHandler:0000000000000000 $t
     /tmp/ccljlI7X.s:221    .text.EXTI4_IRQHandler:0000000000000000 EXTI4_IRQHandler
     /tmp/ccljlI7X.s:254    .text.EXTI4_IRQHandler:0000000000000020 $d
     /tmp/ccljlI7X.s:260    .text.EXTI4_Init:0000000000000000 $t
     /tmp/ccljlI7X.s:267    .text.EXTI4_Init:0000000000000000 EXTI4_Init
     /tmp/ccljlI7X.s:334    .text.EXTIX_Init:0000000000000000 $t
     /tmp/ccljlI7X.s:341    .text.EXTIX_Init:0000000000000000 EXTIX_Init
     /tmp/ccljlI7X.s:519    .bss.ov_sta:0000000000000000 ov_sta
     /tmp/ccljlI7X.s:520    .bss.ov_sta:0000000000000000 $d
     /tmp/ccljlI7X.s:522    .text.EXTI15_10_IRQHandler:0000000000000000 $t
     /tmp/ccljlI7X.s:529    .text.EXTI15_10_IRQHandler:0000000000000000 EXTI15_10_IRQHandler
     /tmp/ccljlI7X.s:612    .text.EXTI15_10_IRQHandler:0000000000000060 $d
     /tmp/ccljlI7X.s:619    .text.EXTI11_Init:0000000000000000 $t
     /tmp/ccljlI7X.s:626    .text.EXTI11_Init:0000000000000000 EXTI11_Init
     /tmp/ccljlI7X.s:697    .text.JumpToISP:0000000000000000 $t
     /tmp/ccljlI7X.s:704    .text.JumpToISP:0000000000000000 JumpToISP
     /tmp/ccljlI7X.s:792    .text.JumpToISP:0000000000000050 $d

UNDEFINED SYMBOLS
delay_ms
EXTI_ClearITPendingBit
puts
KEY0_PUSH
GPIO_EXTILineConfig
EXTI_Init
NVIC_Init
KEY1_PUSH
EXTI_GetITStatus
printf
